#!/usr/bin/env python
# mock for aws-cli
import sys
import json
import os
import shutil

scriptdir=os.path.dirname(os.path.realpath(__file__))

# if "cp" is called, copy a test zip file to the destination
if sys.argv[2] == "cp":
    shutil.copyfile(os.path.join(scriptdir, 'test.zip'), sys.argv[4])
    sys.argv[4] = "archive.zip"

if sys.argv[2] == "sync":
    sys.argv[4] = "contents.zip"


with open("./aws.out", "a") as myfile:
    myfile.write(json.dumps(sys.argv))
    myfile.write("\n")
