"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const cidr_splits_1 = require("../lib/cidr-splits");
describe('Cidr split results', () => {
    test('3 big subnets then 6 small ones', () => {
        expect(cidr_splits_1.calculateCidrSplits(22, [24, 24, 24, 28, 28, 28, 28, 28, 28])).toEqual([
            { netmask: 24, count: 4, index: 0 },
            { netmask: 24, count: 4, index: 1 },
            { netmask: 24, count: 4, index: 2 },
            { netmask: 28, count: 64, index: 48 },
            { netmask: 28, count: 64, index: 49 },
            { netmask: 28, count: 64, index: 50 },
            { netmask: 28, count: 64, index: 51 },
            { netmask: 28, count: 64, index: 52 },
            { netmask: 28, count: 64, index: 53 },
        ]);
    });
    test('3 small subnets then 2 big ones', () => {
        expect(cidr_splits_1.calculateCidrSplits(22, [27, 27, 27, 24, 24])).toEqual([
            { netmask: 27, count: 32, index: 0 },
            { netmask: 27, count: 32, index: 1 },
            { netmask: 27, count: 32, index: 2 },
            { netmask: 24, count: 4, index: 1 },
            { netmask: 24, count: 4, index: 2 },
        ]);
    });
    test('small big small', () => {
        expect(cidr_splits_1.calculateCidrSplits(22, [28, 24, 28])).toEqual([
            { netmask: 28, count: 64, index: 0 },
            { netmask: 24, count: 4, index: 1 },
            { netmask: 28, count: 64, index: 32 },
        ]);
    });
    test('allocation too big', () => {
        expect(() => cidr_splits_1.calculateCidrSplits(22, [23, 23, 23])).toThrow(/not big enough/);
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2lkci1zcGxpdHMudGVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImNpZHItc3BsaXRzLnRlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxvREFBeUQ7QUFFekQsUUFBUSxDQUFDLG9CQUFvQixFQUFFLEdBQUcsRUFBRTtJQUNsQyxJQUFJLENBQUMsaUNBQWlDLEVBQUUsR0FBRyxFQUFFO1FBQzNDLE1BQU0sQ0FBQyxpQ0FBbUIsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUM7WUFDNUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRTtZQUNuQyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFO1lBQ25DLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUU7WUFDbkMsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRTtZQUNyQyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFO1lBQ3JDLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUU7WUFDckMsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRTtZQUNyQyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFO1lBQ3JDLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUU7U0FDdEMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFJLENBQUMsaUNBQWlDLEVBQUUsR0FBRyxFQUFFO1FBQzNDLE1BQU0sQ0FBQyxpQ0FBbUIsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQztZQUM1RCxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFO1lBQ3BDLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUU7WUFDcEMsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRTtZQUNwQyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFO1lBQ25DLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUU7U0FDcEMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFJLENBQUMsaUJBQWlCLEVBQUUsR0FBRyxFQUFFO1FBQzNCLE1BQU0sQ0FBRSxpQ0FBbUIsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUM7WUFDckQsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRTtZQUNwQyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFO1lBQ25DLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUU7U0FDdEMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFJLENBQUMsb0JBQW9CLEVBQUUsR0FBRyxFQUFFO1FBQzlCLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxpQ0FBbUIsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNoRixDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2FsY3VsYXRlQ2lkclNwbGl0cyB9IGZyb20gJy4uL2xpYi9jaWRyLXNwbGl0cyc7XG5cbmRlc2NyaWJlKCdDaWRyIHNwbGl0IHJlc3VsdHMnLCAoKSA9PiB7XG4gIHRlc3QoJzMgYmlnIHN1Ym5ldHMgdGhlbiA2IHNtYWxsIG9uZXMnLCAoKSA9PiB7XG4gICAgZXhwZWN0KGNhbGN1bGF0ZUNpZHJTcGxpdHMoMjIsIFsyNCwgMjQsIDI0LCAyOCwgMjgsIDI4LCAyOCwgMjgsIDI4XSkpLnRvRXF1YWwoW1xuICAgICAgeyBuZXRtYXNrOiAyNCwgY291bnQ6IDQsIGluZGV4OiAwIH0sXG4gICAgICB7IG5ldG1hc2s6IDI0LCBjb3VudDogNCwgaW5kZXg6IDEgfSxcbiAgICAgIHsgbmV0bWFzazogMjQsIGNvdW50OiA0LCBpbmRleDogMiB9LFxuICAgICAgeyBuZXRtYXNrOiAyOCwgY291bnQ6IDY0LCBpbmRleDogNDggfSxcbiAgICAgIHsgbmV0bWFzazogMjgsIGNvdW50OiA2NCwgaW5kZXg6IDQ5IH0sXG4gICAgICB7IG5ldG1hc2s6IDI4LCBjb3VudDogNjQsIGluZGV4OiA1MCB9LFxuICAgICAgeyBuZXRtYXNrOiAyOCwgY291bnQ6IDY0LCBpbmRleDogNTEgfSxcbiAgICAgIHsgbmV0bWFzazogMjgsIGNvdW50OiA2NCwgaW5kZXg6IDUyIH0sXG4gICAgICB7IG5ldG1hc2s6IDI4LCBjb3VudDogNjQsIGluZGV4OiA1MyB9LFxuICAgIF0pO1xuICB9KTtcblxuICB0ZXN0KCczIHNtYWxsIHN1Ym5ldHMgdGhlbiAyIGJpZyBvbmVzJywgKCkgPT4ge1xuICAgIGV4cGVjdChjYWxjdWxhdGVDaWRyU3BsaXRzKDIyLCBbMjcsIDI3LCAyNywgMjQsIDI0XSkpLnRvRXF1YWwoW1xuICAgICAgeyBuZXRtYXNrOiAyNywgY291bnQ6IDMyLCBpbmRleDogMCB9LFxuICAgICAgeyBuZXRtYXNrOiAyNywgY291bnQ6IDMyLCBpbmRleDogMSB9LFxuICAgICAgeyBuZXRtYXNrOiAyNywgY291bnQ6IDMyLCBpbmRleDogMiB9LFxuICAgICAgeyBuZXRtYXNrOiAyNCwgY291bnQ6IDQsIGluZGV4OiAxIH0sXG4gICAgICB7IG5ldG1hc2s6IDI0LCBjb3VudDogNCwgaW5kZXg6IDIgfSxcbiAgICBdKTtcbiAgfSk7XG5cbiAgdGVzdCgnc21hbGwgYmlnIHNtYWxsJywgKCkgPT4ge1xuICAgIGV4cGVjdCAoY2FsY3VsYXRlQ2lkclNwbGl0cygyMiwgWzI4LCAyNCwgMjhdKSkudG9FcXVhbChbXG4gICAgICB7IG5ldG1hc2s6IDI4LCBjb3VudDogNjQsIGluZGV4OiAwIH0sXG4gICAgICB7IG5ldG1hc2s6IDI0LCBjb3VudDogNCwgaW5kZXg6IDEgfSxcbiAgICAgIHsgbmV0bWFzazogMjgsIGNvdW50OiA2NCwgaW5kZXg6IDMyIH0sXG4gICAgXSk7XG4gIH0pO1xuXG4gIHRlc3QoJ2FsbG9jYXRpb24gdG9vIGJpZycsICgpID0+IHtcbiAgICBleHBlY3QoKCkgPT4gY2FsY3VsYXRlQ2lkclNwbGl0cygyMiwgWzIzLCAyMywgMjNdKSkudG9UaHJvdygvbm90IGJpZyBlbm91Z2gvKTtcbiAgfSk7XG59KTsiXX0=