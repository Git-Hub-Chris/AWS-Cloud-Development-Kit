{
  "Resources": {
    "myprivateapiD2D027EE": {
      "Type": "AWS::ApiGateway::RestApi",
      "Properties": {
        "Body": {
          "openapi": "3.0.2",
          "info": {
            "version": "1.0.0",
            "title": "Test API for CDK"
          },
          "servers": [
            {
              "x-amazon-apigateway-endpoint-configuration": {
                "vpcEndpointIds": [
                  "vpce-00111a1111a1aa011"
                ]
              }
            }
          ],
          "paths": {
            "/pets": {
              "get": {
                "summary": "Test Method",
                "operationId": "testMethod",
                "responses": {
                  "200": {
                    "description": "A paged array of pets",
                    "content": {
                      "application/json": {
                        "schema": {
                          "$ref": "#/components/schemas/Empty"
                        }
                      }
                    }
                  }
                },
                "x-amazon-apigateway-integration": {
                  "responses": {
                    "default": {
                      "statusCode": "200"
                    }
                  },
                  "requestTemplates": {
                    "application/json": "{\"statusCode\": 200}"
                  },
                  "passthroughBehavior": "when_no_match",
                  "type": "mock"
                }
              }
            }
          },
          "components": {
            "schemas": {
              "Empty": {
                "title": "Empty Schema",
                "type": "object"
              }
            }
          },
          "x-amazon-apigateway-policy": {
            "Version": "2012-10-17",
            "Statement": [
              {
                "Effect": "Allow",
                "Principal": "*",
                "Action": [
                  "execute-api:Invoke",
                  "execute-api:GET"
                ],
                "Resource": "arn:aws:execute-api:${AWS::Region}:${AWS::AccountId}:*",
                "Condition": {
                  "StringEquals": {
                    "aws:sourceVpce": "vpce-00111a1111a1aa011"
                  }
                }
              }
            ]
          }
        },
        "EndpointConfiguration": {
          "Types": [
            "PRIVATE"
          ]
        },
        "Name": "my-private-api"
      }
    },
    "myprivateapiDeployment16B560CC44aa0b876b038e08c0189e947e922b78": {
      "Type": "AWS::ApiGateway::Deployment",
      "Properties": {
        "RestApiId": {
          "Ref": "myprivateapiD2D027EE"
        },
        "Description": "Automatically created by the RestApi construct"
      }
    },
    "myprivateapiDeploymentStageprodC271AE68": {
      "Type": "AWS::ApiGateway::Stage",
      "Properties": {
        "RestApiId": {
          "Ref": "myprivateapiD2D027EE"
        },
        "DeploymentId": {
          "Ref": "myprivateapiDeployment16B560CC44aa0b876b038e08c0189e947e922b78"
        },
        "StageName": "prod"
      }
    },
    "myprivateapiCloudWatchRole82F3E469": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "apigateway.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"
              ]
            ]
          }
        ]
      }
    },
    "myprivateapiAccount8564096B": {
      "Type": "AWS::ApiGateway::Account",
      "Properties": {
        "CloudWatchRoleArn": {
          "Fn::GetAtt": [
            "myprivateapiCloudWatchRole82F3E469",
            "Arn"
          ]
        }
      },
      "DependsOn": [
        "myprivateapiD2D027EE"
      ]
    }
  },
  "Outputs": {
    "myprivateapiEndpoint40EE1421": {
      "Value": {
        "Fn::Join": [
          "",
          [
            "https://",
            {
              "Ref": "myprivateapiD2D027EE"
            },
            ".execute-api.",
            {
              "Ref": "AWS::Region"
            },
            ".",
            {
              "Ref": "AWS::URLSuffix"
            },
            "/",
            {
              "Ref": "myprivateapiDeploymentStageprodC271AE68"
            },
            "/"
          ]
        ]
      }
    },
    "PetsURL": {
      "Value": {
        "Fn::Join": [
          "",
          [
            "https://",
            {
              "Ref": "myprivateapiD2D027EE"
            },
            ".execute-api.",
            {
              "Ref": "AWS::Region"
            },
            ".",
            {
              "Ref": "AWS::URLSuffix"
            },
            "/",
            {
              "Ref": "myprivateapiDeploymentStageprodC271AE68"
            },
            "/pets"
          ]
        ]
      }
    }
  }
}