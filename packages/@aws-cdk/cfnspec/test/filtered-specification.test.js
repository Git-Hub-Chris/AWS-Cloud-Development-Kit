"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const spec_validators_1 = require("./spec-validators");
const index_1 = require("../lib/index");
test('filteredSpecification(/^AWS::S3::.*/)', () => {
    const filteredSpec = (0, index_1.filteredSpecification)(/^AWS::S3::.*/);
    expect(filteredSpec).not.toEqual(index_1.specification);
    expect(filteredSpec.ResourceTypes).not.toEqual({});
});
test('filteredSpecification(s => s.startsWith("AWS::S3::")', () => {
    const filteredSpec = (0, index_1.filteredSpecification)(s => s.startsWith('AWS::S3::'));
    expect(filteredSpec).not.toEqual(index_1.specification);
    expect(filteredSpec.ResourceTypes).not.toEqual({});
});
for (const name of (0, index_1.resourceTypes)().sort()) {
    describe(`filteredSpecification(${JSON.stringify(name)})`, () => {
        const filteredSpec = (0, index_1.filteredSpecification)(name);
        expect(filteredSpec).not.toEqual(index_1.specification);
        expect(filteredSpec.ResourceTypes).not.toEqual({});
        // Validate the spec is conform & coherent.
        (0, spec_validators_1.validateSpecification)(filteredSpec);
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsdGVyZWQtc3BlY2lmaWNhdGlvbi50ZXN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZmlsdGVyZWQtc3BlY2lmaWNhdGlvbi50ZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsdURBQTBEO0FBQzFELHdDQUFtRjtBQUVuRixJQUFJLENBQUMsdUNBQXVDLEVBQUUsR0FBRyxFQUFFO0lBQ2pELE1BQU0sWUFBWSxHQUFHLElBQUEsNkJBQXFCLEVBQUMsY0FBYyxDQUFDLENBQUM7SUFDM0QsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMscUJBQWEsQ0FBQyxDQUFDO0lBQ2hELE1BQU0sQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUNyRCxDQUFDLENBQUMsQ0FBQztBQUVILElBQUksQ0FBQyxzREFBc0QsRUFBRSxHQUFHLEVBQUU7SUFDaEUsTUFBTSxZQUFZLEdBQUcsSUFBQSw2QkFBcUIsRUFBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztJQUMzRSxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxxQkFBYSxDQUFDLENBQUM7SUFDaEQsTUFBTSxDQUFDLFlBQVksQ0FBQyxhQUFhLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ3JELENBQUMsQ0FBQyxDQUFDO0FBRUgsS0FBSyxNQUFNLElBQUksSUFBSSxJQUFBLHFCQUFhLEdBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRTtJQUN6QyxRQUFRLENBQUMseUJBQXlCLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUU7UUFDOUQsTUFBTSxZQUFZLEdBQUcsSUFBQSw2QkFBcUIsRUFBQyxJQUFJLENBQUMsQ0FBQztRQUNqRCxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxxQkFBYSxDQUFDLENBQUM7UUFDaEQsTUFBTSxDQUFDLFlBQVksQ0FBQyxhQUFhLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ25ELDJDQUEyQztRQUMzQyxJQUFBLHVDQUFxQixFQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ3RDLENBQUMsQ0FBQyxDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB2YWxpZGF0ZVNwZWNpZmljYXRpb24gfSBmcm9tICcuL3NwZWMtdmFsaWRhdG9ycyc7XG5pbXBvcnQgeyBmaWx0ZXJlZFNwZWNpZmljYXRpb24sIHJlc291cmNlVHlwZXMsIHNwZWNpZmljYXRpb24gfSBmcm9tICcuLi9saWIvaW5kZXgnO1xuXG50ZXN0KCdmaWx0ZXJlZFNwZWNpZmljYXRpb24oL15BV1M6OlMzOjouKi8pJywgKCkgPT4ge1xuICBjb25zdCBmaWx0ZXJlZFNwZWMgPSBmaWx0ZXJlZFNwZWNpZmljYXRpb24oL15BV1M6OlMzOjouKi8pO1xuICBleHBlY3QoZmlsdGVyZWRTcGVjKS5ub3QudG9FcXVhbChzcGVjaWZpY2F0aW9uKTtcbiAgZXhwZWN0KGZpbHRlcmVkU3BlYy5SZXNvdXJjZVR5cGVzKS5ub3QudG9FcXVhbCh7fSk7XG59KTtcblxudGVzdCgnZmlsdGVyZWRTcGVjaWZpY2F0aW9uKHMgPT4gcy5zdGFydHNXaXRoKFwiQVdTOjpTMzo6XCIpJywgKCkgPT4ge1xuICBjb25zdCBmaWx0ZXJlZFNwZWMgPSBmaWx0ZXJlZFNwZWNpZmljYXRpb24ocyA9PiBzLnN0YXJ0c1dpdGgoJ0FXUzo6UzM6OicpKTtcbiAgZXhwZWN0KGZpbHRlcmVkU3BlYykubm90LnRvRXF1YWwoc3BlY2lmaWNhdGlvbik7XG4gIGV4cGVjdChmaWx0ZXJlZFNwZWMuUmVzb3VyY2VUeXBlcykubm90LnRvRXF1YWwoe30pO1xufSk7XG5cbmZvciAoY29uc3QgbmFtZSBvZiByZXNvdXJjZVR5cGVzKCkuc29ydCgpKSB7XG4gIGRlc2NyaWJlKGBmaWx0ZXJlZFNwZWNpZmljYXRpb24oJHtKU09OLnN0cmluZ2lmeShuYW1lKX0pYCwgKCkgPT4ge1xuICAgIGNvbnN0IGZpbHRlcmVkU3BlYyA9IGZpbHRlcmVkU3BlY2lmaWNhdGlvbihuYW1lKTtcbiAgICBleHBlY3QoZmlsdGVyZWRTcGVjKS5ub3QudG9FcXVhbChzcGVjaWZpY2F0aW9uKTtcbiAgICBleHBlY3QoZmlsdGVyZWRTcGVjLlJlc291cmNlVHlwZXMpLm5vdC50b0VxdWFsKHt9KTtcbiAgICAvLyBWYWxpZGF0ZSB0aGUgc3BlYyBpcyBjb25mb3JtICYgY29oZXJlbnQuXG4gICAgdmFsaWRhdGVTcGVjaWZpY2F0aW9uKGZpbHRlcmVkU3BlYyk7XG4gIH0pO1xufVxuIl19