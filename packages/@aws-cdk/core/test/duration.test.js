"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const cdk_build_tools_1 = require("@aws-cdk/cdk-build-tools");
const lib_1 = require("../lib");
describe('duration', () => {
    test('negative amount', () => {
        expect(() => lib_1.Duration.seconds(-1)).toThrow(/negative/);
    });
    test('can stringify', () => {
        expect(`${lib_1.Duration.hours(1)}`).toEqual('Duration.hours(1)');
    });
    test('unresolved amount', () => {
        const stack = new lib_1.Stack();
        const lazyDuration = lib_1.Duration.seconds(lib_1.Token.asNumber({ resolve: () => 1337 }));
        expect(stack.resolve(lazyDuration.toSeconds())).toEqual(1337);
        expect(() => stack.resolve(lazyDuration.toMinutes())).toThrow(/Duration must be specified as 'Duration.minutes\(\)' here/);
    });
    test('Duration in seconds', () => {
        const duration = lib_1.Duration.seconds(300);
        expect(duration.toSeconds()).toEqual(300);
        expect(duration.toMinutes()).toEqual(5);
        expect(() => duration.toDays()).toThrow(/'300 seconds' cannot be converted into a whole number of days/);
        floatEqual(duration.toDays({ integral: false }), 300 / 86400);
        expect(lib_1.Duration.seconds(60 * 60 * 24).toDays()).toEqual(1);
    });
    test('Duration in minutes', () => {
        const duration = lib_1.Duration.minutes(5);
        expect(duration.toSeconds()).toEqual(300);
        expect(duration.toMinutes()).toEqual(5);
        expect(() => duration.toDays()).toThrow(/'5 minutes' cannot be converted into a whole number of days/);
        floatEqual(duration.toDays({ integral: false }), 300 / 86400);
        expect(lib_1.Duration.minutes(60 * 24).toDays()).toEqual(1);
    });
    test('Duration in hours', () => {
        const duration = lib_1.Duration.hours(5);
        expect(duration.toSeconds()).toEqual(18000);
        expect(duration.toMinutes()).toEqual(300);
        expect(() => duration.toDays()).toThrow(/'5 hours' cannot be converted into a whole number of days/);
        floatEqual(duration.toDays({ integral: false }), 5 / 24);
        expect(lib_1.Duration.hours(24).toDays()).toEqual(1);
    });
    test('seconds to milliseconds', () => {
        const duration = lib_1.Duration.seconds(5);
        expect(duration.toMilliseconds()).toEqual(5000);
    });
    test('Duration in days', () => {
        const duration = lib_1.Duration.days(1);
        expect(duration.toSeconds()).toEqual(86400);
        expect(duration.toMinutes()).toEqual(1440);
        expect(duration.toDays()).toEqual(1);
    });
    cdk_build_tools_1.testDeprecated('toISOString', () => {
        expect(lib_1.Duration.millis(0).toISOString()).toEqual('PT0S');
        expect(lib_1.Duration.seconds(0).toISOString()).toEqual('PT0S');
        expect(lib_1.Duration.minutes(0).toISOString()).toEqual('PT0S');
        expect(lib_1.Duration.hours(0).toISOString()).toEqual('PT0S');
        expect(lib_1.Duration.days(0).toISOString()).toEqual('PT0S');
        expect(lib_1.Duration.millis(5).toISOString()).toEqual('PT0.005S');
        expect(lib_1.Duration.seconds(5).toISOString()).toEqual('PT5S');
        expect(lib_1.Duration.minutes(5).toISOString()).toEqual('PT5M');
        expect(lib_1.Duration.hours(5).toISOString()).toEqual('PT5H');
        expect(lib_1.Duration.days(5).toISOString()).toEqual('P5D');
        expect(lib_1.Duration.seconds(1 + 60 * (1 + 60 * (1 + 24))).toISOString()).toEqual('P1DT1H1M1S');
    });
    test('toIsoString', () => {
        expect(lib_1.Duration.millis(0).toIsoString()).toEqual('PT0S');
        expect(lib_1.Duration.seconds(0).toIsoString()).toEqual('PT0S');
        expect(lib_1.Duration.minutes(0).toIsoString()).toEqual('PT0S');
        expect(lib_1.Duration.hours(0).toIsoString()).toEqual('PT0S');
        expect(lib_1.Duration.days(0).toIsoString()).toEqual('PT0S');
        expect(lib_1.Duration.millis(5).toIsoString()).toEqual('PT0.005S');
        expect(lib_1.Duration.seconds(5).toIsoString()).toEqual('PT5S');
        expect(lib_1.Duration.minutes(5).toIsoString()).toEqual('PT5M');
        expect(lib_1.Duration.hours(5).toIsoString()).toEqual('PT5H');
        expect(lib_1.Duration.days(5).toIsoString()).toEqual('P5D');
        expect(lib_1.Duration.seconds(65).toIsoString()).toEqual('PT1M5S');
        expect(lib_1.Duration.seconds(1 + 60 * (1 + 60 * (1 + 24))).toIsoString()).toEqual('P1DT1H1M1S');
    });
    test('parse', () => {
        expect(lib_1.Duration.parse('PT0S').toSeconds()).toEqual(0);
        expect(lib_1.Duration.parse('PT0M').toSeconds()).toEqual(0);
        expect(lib_1.Duration.parse('PT0H').toSeconds()).toEqual(0);
        expect(lib_1.Duration.parse('P0D').toSeconds()).toEqual(0);
        expect(lib_1.Duration.parse('PT5S').toSeconds()).toEqual(5);
        expect(lib_1.Duration.parse('PT5M').toSeconds()).toEqual(300);
        expect(lib_1.Duration.parse('PT5H').toSeconds()).toEqual(18000);
        expect(lib_1.Duration.parse('P5D').toSeconds()).toEqual(432000);
        expect(lib_1.Duration.parse('P1DT1H1M1S').toSeconds()).toEqual(1 + 60 * (1 + 60 * (1 + 24)));
    });
    test('reject illegal parses', () => {
        const err = 'Not a valid ISO duration';
        expect(() => {
            lib_1.Duration.parse('PT1D');
        }).toThrow(err);
        expect(() => {
            lib_1.Duration.parse('P5S');
        }).toThrow(err);
    });
    test('to human string', () => {
        expect(lib_1.Duration.minutes(0).toHumanString()).toEqual('0 minutes');
        expect(lib_1.Duration.minutes(lib_1.Lazy.number({ produce: () => 5 })).toHumanString()).toEqual('<token> minutes');
        expect(lib_1.Duration.days(1).toHumanString()).toEqual('1 day');
        expect(lib_1.Duration.hours(1).toHumanString()).toEqual('1 hour');
        expect(lib_1.Duration.minutes(1).toHumanString()).toEqual('1 minute');
        expect(lib_1.Duration.seconds(1).toHumanString()).toEqual('1 second');
        expect(lib_1.Duration.millis(1).toHumanString()).toEqual('1 milli');
        expect(lib_1.Duration.minutes(10).toHumanString()).toEqual('10 minutes');
        expect(lib_1.Duration.minutes(62).toHumanString()).toEqual('1 hour 2 minutes');
        expect(lib_1.Duration.seconds(3666).toHumanString()).toEqual('1 hour 1 minute');
        expect(lib_1.Duration.millis(3000).toHumanString()).toEqual('3 seconds');
        expect(lib_1.Duration.millis(3666).toHumanString()).toEqual('3 seconds 666 millis');
        expect(lib_1.Duration.millis(3.6).toHumanString()).toEqual('3.6 millis');
    });
    test('add two durations', () => {
        expect(lib_1.Duration.minutes(1).plus(lib_1.Duration.seconds(30)).toSeconds()).toEqual(lib_1.Duration.seconds(90).toSeconds());
        expect(lib_1.Duration.minutes(1).plus(lib_1.Duration.seconds(30)).toMinutes({ integral: false }))
            .toEqual(lib_1.Duration.seconds(90).toMinutes({ integral: false }));
    });
    test('subtract two durations', () => {
        expect(lib_1.Duration.minutes(1).minus(lib_1.Duration.seconds(30)).toSeconds()).toEqual(lib_1.Duration.seconds(30).toSeconds());
        expect(lib_1.Duration.minutes(1).minus(lib_1.Duration.seconds(30)).toMinutes({ integral: false }))
            .toEqual(lib_1.Duration.seconds(30).toMinutes({ integral: false }));
    });
    test('get unit label from duration', () => {
        expect(lib_1.Duration.minutes(lib_1.Lazy.number({ produce: () => 10 })).unitLabel()).toEqual('minutes');
        expect(lib_1.Duration.minutes(62).unitLabel()).toEqual('minutes');
        expect(lib_1.Duration.seconds(10).unitLabel()).toEqual('seconds');
        expect(lib_1.Duration.millis(1).unitLabel()).toEqual('millis');
        expect(lib_1.Duration.hours(1000).unitLabel()).toEqual('hours');
        expect(lib_1.Duration.days(2).unitLabel()).toEqual('days');
    });
    test('format number token to number', () => {
        const stack = new lib_1.Stack();
        const lazyDuration = lib_1.Duration.minutes(lib_1.Lazy.number({ produce: () => 10 }));
        expect(stack.resolve(lazyDuration.formatTokenToNumber())).toEqual('10 minutes');
        expect(lib_1.Duration.hours(10).formatTokenToNumber()).toEqual('10 hours');
        expect(lib_1.Duration.days(5).formatTokenToNumber()).toEqual('5 days');
    });
    test('duration is unresolved', () => {
        const lazyDuration = lib_1.Duration.minutes(lib_1.Lazy.number({ produce: () => 10 }));
        expect(lazyDuration.isUnresolved()).toEqual(true);
        expect(lib_1.Duration.hours(10).isUnresolved()).toEqual(false);
    });
});
describe('integral flag checks', () => {
    test('convert fractional minutes to minutes', () => {
        expect(() => {
            lib_1.Duration.minutes(0.5).toMinutes();
        }).toThrow(/must be a whole number of/);
    });
    test('convert fractional minutes to minutes - integral: false', () => {
        expect(lib_1.Duration.minutes(5.5).toMinutes({ integral: false })).toEqual(5.5);
    });
    test('convert whole minutes to minutes', () => {
        expect(lib_1.Duration.minutes(5).toMinutes()).toEqual(5);
    });
    test('convert fractional minutes to fractional seconds', () => {
        expect(() => {
            lib_1.Duration.minutes(9 / 8).toSeconds();
        }).toThrow(/cannot be converted into a whole number of/);
    });
    test('convert fractional minutes to fractional seconds - integral: false', () => {
        expect(lib_1.Duration.minutes(9 / 8).toSeconds({ integral: false })).toEqual(67.5);
    });
    test('convert fractional minutes to whole seconds', () => {
        expect(lib_1.Duration.minutes(5 / 4).toSeconds({ integral: false })).toEqual(75);
    });
    test('convert whole minutes to whole seconds', () => {
        expect(lib_1.Duration.minutes(10).toSeconds({ integral: false })).toEqual(600);
    });
    test('convert seconds to fractional minutes', () => {
        expect(() => {
            lib_1.Duration.seconds(45).toMinutes();
        }).toThrow(/cannot be converted into a whole number of/);
    });
    test('convert seconds to fractional minutes - integral: false', () => {
        expect(lib_1.Duration.seconds(45).toMinutes({ integral: false })).toEqual(0.75);
    });
    test('convert seconds to whole minutes', () => {
        expect(lib_1.Duration.seconds(120).toMinutes()).toEqual(2);
    });
});
function floatEqual(actual, expected) {
    expect(
    // Floats are subject to rounding errors up to Number.ESPILON
    actual >= expected - Number.EPSILON && actual <= expected + Number.EPSILON).toEqual(true);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHVyYXRpb24udGVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImR1cmF0aW9uLnRlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSw4REFBMEQ7QUFDMUQsZ0NBQXNEO0FBRXRELFFBQVEsQ0FBQyxVQUFVLEVBQUUsR0FBRyxFQUFFO0lBQ3hCLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxHQUFHLEVBQUU7UUFDM0IsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLGNBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUN6RCxDQUFDLENBQUMsQ0FBQztJQUVILElBQUksQ0FBQyxlQUFlLEVBQUUsR0FBRyxFQUFFO1FBQ3pCLE1BQU0sQ0FBQyxHQUFHLGNBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0lBQzlELENBQUMsQ0FBQyxDQUFDO0lBRUgsSUFBSSxDQUFDLG1CQUFtQixFQUFFLEdBQUcsRUFBRTtRQUM3QixNQUFNLEtBQUssR0FBRyxJQUFJLFdBQUssRUFBRSxDQUFDO1FBQzFCLE1BQU0sWUFBWSxHQUFHLGNBQVEsQ0FBQyxPQUFPLENBQUMsV0FBSyxDQUFDLFFBQVEsQ0FBQyxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDL0UsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDOUQsTUFBTSxDQUNKLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQ3RELDJEQUEyRCxDQUM1RCxDQUFDO0lBQ0osQ0FBQyxDQUFD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QU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUM3RCxNQUFNLENBQUMsY0FBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMxRCxNQUFNLENBQUMsY0FBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMxRCxNQUFNLENBQUMsY0FBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN4RCxNQUFNLENBQUMsY0FBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUV0RCxNQUFNLENBQUMsY0FBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDN0YsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFJLENBQUMsYUFBYSxFQUFFLEdBQUcsRUFBRTtRQUN2QixNQUFNLENBQUMsY0FBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN6RCxNQUFNLENBQUMsY0FBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMxRCxNQUFNLENBQUMsY0FBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMxRCxNQUFNLENBQUMsY0FBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN4RCxNQUFNLENBQUMsY0FBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUV2RCxNQUFNLENBQUMsY0FBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUM3RCxNQUFNLENBQUMsY0FBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMxRCxNQUFNLENBQUMsY0FBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMxRCxNQUFNLENBQUMsY0FBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN4RCxNQUFNLENBQUMsY0FBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUV0RCxNQUFNLENBQUMsY0FBUSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUM3RCxNQUFNLENBQUMsY0FBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDN0YsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFJLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRTtRQUNqQixNQUFNLENBQUMsY0FBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0RCxNQUFNLENBQUMsY0FBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0RCxNQUFNLENBQUMsY0FBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0RCxNQUFNLENBQUMsY0FBUSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUVyRCxNQUFNLENBQUMsY0FBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0RCxNQUFNLENBQUMsY0FBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN4RCxNQUFNLENBQUMsY0FBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFNLENBQUMsQ0FBQztRQUMzRCxNQUFNLENBQUMsY0FBUSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLE9BQU8s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Q0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsYUFBYSxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDckUsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFJLENBQUMsbUJBQW1CLEVBQUUsR0FBRyxFQUFFO1FBQzdCLE1BQU0sQ0FBQyxjQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFRLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsY0FBUSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDO1FBQzdHLE1BQU0sQ0FBQyxjQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFRLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUM7YUFDbEYsT0FBTyxDQUFDLGNBQVEsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUMsU0FBUyxDQUFDLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNsRSxDQUFDLENBQUMsQ0FBQztJQUVILElBQUksQ0FBQyx3QkFBd0IsRUFBRSxHQUFHLEVBQUU7UUFDbEMsTUFBTSxDQUFDLGNBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLGNBQVEsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxjQUFRLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUM7UUFDOUcsTUFBTSxDQUFDLGNBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLGNBQVEsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFD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QUNMLENBQUMsQ0FBQyxDQUFDO0FBRUgsU0FBUyxVQUFVLENBQUMsTUFBYyxFQUFFLFFBQWdCO0lBQ2xELE1BQU07SUFDSiw2REFBNkQ7SUFDN0QsTUFBTSxJQUFJLFFBQVEsR0FBRyxNQUFNLENBQUMsT0FBTyxJQUFJLE1BQU0sSUFBSSxRQUFRLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FDM0UsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDbEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHRlc3REZXByZWNhdGVkIH0gZnJvbSAnQGF3cy1jZGsvY2RrLWJ1aWxkLXRvb2xzJztcbmltcG9ydCB7IER1cmF0aW9uLCBMYXp5LCBTdGFjaywgVG9rZW4gfSBmcm9tICcuLi9saWInO1xuXG5kZXNjcmliZSgnZHVyYXRpb24nLCAoKSA9PiB7XG4gIHRlc3QoJ25lZ2F0aXZlIGFtb3VudCcsICgpID0+IHtcbiAgICBleHBlY3QoKCkgPT4gRHVyYXRpb24uc2Vjb25kcygtMSkpLnRvVGhyb3coL25lZ2F0aXZlLyk7XG4gIH0pO1xuXG4gIHRlc3QoJ2NhbiBzdHJpbmdpZnknLCAoKSA9PiB7XG4gICAgZXhwZWN0KGAke0R1cmF0aW9uLmhvdXJzKDEpfWApLnRvRXF1YWwoJ0R1cmF0aW9uLmhvdXJzKDEpJyk7XG4gIH0pO1xuXG4gIHRlc3QoJ3VucmVzb2x2ZWQgYW1vdW50JywgKCkgPT4ge1xuICAgIGNvbnN0IHN0YWNrID0gbmV3IFN0YWNrKCk7XG4gICAgY29uc3QgbGF6eUR1cmF0aW9uID0gRHVyYXRpb24uc2Vjb25kcyhUb2tlbi5hc051bWJlcih7IHJlc29sdmU6ICgpID0+IDEzMzcgfSkpO1xuICAgIGV4cGVjdChzdGFjay5yZXNvbHZlKGxhenlEdXJhdGlvbi50b1NlY29uZHMoKSkpLnRvRXF1YWwoMTMzNyk7XG4gICAgZXhwZWN0KFxuICAgICAgKCkgPT4gc3RhY2sucmVzb2x2ZShsYXp5RHVyYXRpb24udG9NaW51dGVzKCkpKS50b1Rocm93KFxuICAgICAgL0R1cmF0aW9uIG11c3QgYmUgc3BlY2lmaWVkIGFzICdEdXJhdGlvbi5taW51dGVzXFwoXFwpJyBoZXJlLyxcbiAgICApO1xuICB9KTtcblxuICB0ZXN0KCdEdXJhdGlvbiBpbiBzZWNvbmRzJywgKCkgPT4ge1xuICAgIGNvbnN0IGR1cmF0aW9uID0gRHVyYXRpb24uc2Vjb25kcygzMDApO1xuXG4gICAgZXhwZWN0KGR1cmF0aW9uLnRvU2Vjb25kcygpKS50b0VxdWFsKDMwMCk7XG4gICAgZXhwZWN0KGR1cmF0aW9uLnRvTWludXRlcygpKS50b0VxdWFsKDUpO1xuICAgIGV4cGVjdCgoKSA9PiBkdXJhdGlvbi50b0RheXMoKSkudG9UaHJvdygvJzMwMCBzZWNvbmRzJyBjYW5ub3QgYmUgY29udmVydGVkIGludG8gYSB3aG9sZSBudW1iZXIgb2YgZGF5cy8pO1xuICAgIGZsb2F0RXF1YWwoZHVyYXRpb24udG9EYXlzKHsgaW50ZWdyYWw6IGZhbHNlIH0pLCAzMDAgLyA4Nl80MDApO1xuXG4gICAgZXhwZWN0KER1cmF0aW9uLnNlY29uZHMoNjAgKiA2MCAqIDI0KS50b0RheXMoKSkudG9FcXVhbCgxKTtcbiAgfSk7XG5cbiAgdGVzdCgnRHVyYXRpb24gaW4gbWludXRlcycsICgpID0+IHtcbiAgICBjb25zdCBkdXJhdGlvbiA9IER1cmF0aW9uLm1pbnV0ZXMoNSk7XG5cbiAgICBleHBlY3QoZHVyYXRpb24udG9TZWNvbmRzKCkpLnRvRXF1YWwoMzAwKTtcbiAgICBleHBlY3QoZHVyYXRpb24udG9NaW51dGVzKCkpLnRvRXF1YWwoNSk7XG4gICAgZXhwZWN0KCgpID0+IGR1cmF0aW9uLnRvRGF5cygpKS50b1Rocm93KC8nNSBtaW51dGVzJyBjYW5ub3QgYmUgY29udmVydGVkIGludG8gYSB3aG9sZSBudW1iZXIgb2YgZGF5cy8pO1xuICAgIGZsb2F0RXF1YWwoZHVyYXRpb24udG9EYXlzKHsgaW50ZWdyYWw6IGZhbHNlIH0pLCAzMDAgLyA4Nl80MDApO1xuXG4gICAgZXhwZWN0KER1cmF0aW9uLm1pbnV0ZXMoNjAgKiAyNCkudG9EYXlzKCkpLnRvRXF1YWwoMSk7XG4gIH0pO1xuXG4gIHRlc3QoJ0R1cmF0aW9uIGluIGhvdXJzJywgKCkgPT4ge1xuICAgIGNvbnN0IGR1cmF0aW9uID0gRHVyYXRpb24uaG91cnMoNSk7XG5cbiAgICBleHBlY3QoZHVyYXRpb24udG9TZWNvbmRzKCkpLnRvRXF1YWwoMThfMDAwKTtcbiAgICBleHBlY3QoZHVyYXRpb24udG9NaW51dGVzKCkpLnRvRXF1YWwoMzAwKTtcbiAgICBleHBlY3QoKCkgPT4gZHVyYXRpb24udG9EYXlzKCkpLnRvVGhyb3coLyc1IGhvdXJzJyBjYW5ub3QgYmUgY29udmVydGVkIGludG8gYSB3aG9sZSBudW1iZXIgb2YgZGF5cy8pO1xuICAgIGZsb2F0RXF1YWwoZHVyYXRpb24udG9EYXlzKHsgaW50ZWdyYWw6IGZhbHNlIH0pLCA1IC8gMjQpO1xuXG4gICAgZXhwZWN0KER1cmF0aW9uLmhvdXJzKDI0KS50b0RheXMoKSkudG9FcXVhbCgxKTtcbiAgfSk7XG5cbiAgdGVzdCgnc2Vjb25kcyB0byBtaWxsaXNlY29uZHMnLCAoKSA9PiB7XG4gICAgY29uc3QgZHVyYXRpb24gPSBEdXJhdGlvbi5zZWNvbmRzKDUpO1xuXG4gICAgZXhwZWN0KGR1cmF0aW9uLnRvTWlsbGlzZWNvbmRzKCkpLnRvRXF1YWwoNV8wMDApO1xuICB9KTtcblxuICB0ZXN0KCdEdXJhdGlvbiBpbiBkYXlzJywgKCkgPT4ge1xuICAgIGNvbnN0IGR1cmF0aW9uID0gRHVyYXRpb24uZGF5cygxKTtcblxuICAgIGV4cGVjdChkdXJhdGlvbi50b1NlY29uZHMoKSkudG9FcXVhbCg4Nl80MDApO1xuICAgIGV4cGVjdChkdXJhdGlvbi50b01pbnV0ZXMoKSkudG9FcXVhbCgxXzQ0MCk7XG4gICAgZXhwZWN0KGR1cmF0aW9uLnRvRGF5cygpKS50b0VxdWFsKDEpO1xuICB9KTtcblxuICB0ZXN0RGVwcmVjYXRlZCgndG9JU09TdHJpbmcnLCAoKSA9PiB7XG4gICAgZXhwZWN0KER1cmF0aW9uLm1pbGxpcygwKS50b0lTT1N0cmluZygpKS50b0VxdWFsKCdQVDBTJyk7XG4gICAgZXhwZWN0KER1cmF0aW9uLnNlY29uZHMoMCkudG9JU09TdHJpbmcoKSkudG9FcXVhbCgnUFQwUycpO1xuICAgIGV4cGVjdChEdXJhdGlvbi5taW51dGVzKDApLnRvSVNPU3RyaW5nKCkpLnRvRXF1YWwoJ1BUMFMnKTtcbiAgICBleHBlY3QoRHVyYXRpb24uaG91cnMoMCkudG9JU09TdHJpbmcoKSkudG9FcXVhbCgnUFQwUycpO1xuICAgIGV4cGVjdChEdXJhdGlvbi5kYXlzKDApLnRvSVNPU3RyaW5nKCkpLnRvRXF1YWwoJ1BUMFMnKTtcblxuICAgIGV4cGVjdChEdXJhdGlvbi5taWxsaXMoNSkudG9JU09TdHJpbmcoKSkudG9FcXVhbCgnUFQwLjAwNVMnKTtcbiAgICBleHBlY3QoRHVyYXRpb24uc2Vjb25kcyg1KS50b0lTT1N0cmluZygpKS50b0VxdWFsKCdQVDVTJyk7XG4gICAgZXhwZWN0KER1cmF0aW9uLm1pbnV0ZXMoNSkudG9JU09TdHJpbmcoKSkudG9FcXVhbCgnUFQ1TScpO1xuICAgIGV4cGVjdChEdXJhdGlvbi5ob3Vycyg1KS50b0lTT1N0cmluZygpKS50b0VxdWFsKCdQVDVIJyk7XG4gICAgZXhwZWN0KER1cmF0aW9uLmRheXMoNSkudG9JU09TdHJpbmcoKSkudG9FcXVhbCgnUDVEJyk7XG5cbiAgICBleHBlY3QoRHVyYXRpb24uc2Vjb25kcygxICsgNjAgKiAoMSArIDYwICogKDEgKyAyNCkpKS50b0lTT1N0cmluZygpKS50b0VxdWFsKCdQMURUMUgxTTFTJyk7XG4gIH0pO1xuXG4gIHRlc3QoJ3RvSXNvU3RyaW5nJywgKCkgPT4ge1xuICAgIGV4cGVjdChEdXJhdGlvbi5taWxsaXMoMCkudG9Jc29TdHJpbmcoKSkudG9FcXVhbCgnUFQwUycpO1xuICAgIGV4cGVjdChEdXJhdGlvbi5zZWNvbmRzKDApLnRvSXNvU3RyaW5nKCkpLnRvRXF1YWwoJ1BUMFMnKTtcbiAgICBleHBlY3QoRHVyYXRpb24ubWludXRlcygwKS50b0lzb1N0cmluZygpKS50b0VxdWFsKCdQVDBTJyk7XG4gICAgZXhwZWN0KER1cmF0aW9uLmhvdXJzKDApLnRvSXNvU3RyaW5nKCkpLnRvRXF1YWwoJ1BUMFMnKTtcbiAgICBleHBlY3QoRHVyYXRpb24uZGF5cygwKS50b0lzb1N0cmluZygpKS50b0VxdWFsKCdQVDBTJyk7XG5cbiAgICBleHBlY3QoRHVyYXRpb24ubWlsbGlzKDUpLnRvSXNvU3RyaW5nKCkpLnRvRXF1YWwoJ1BUMC4wMDVTJyk7XG4gICAgZXhwZWN0KER1cmF0aW9uLnNlY29uZHMoNSkudG9Jc29TdHJpbmcoKSkudG9FcXVhbCgnUFQ1UycpO1xuICAgIGV4cGVjdChEdXJhdGlvbi5taW51dGVzKDUpLnRvSXNvU3RyaW5nKCkpLnRvRXF1YWwoJ1BUNU0nKTtcbiAgICBleHBlY3QoRHVyYXRpb24uaG91cnMoNSkudG9Jc29TdHJpbmcoKSkudG9FcXVhbCgnUFQ1SCcpO1xuICAgIGV4cGVjdChEdXJhdGlvbi5kYXlzKDUpLnRvSXNvU3RyaW5nKCkpLnRvRXF1YWwoJ1A1RCcpO1xuXG4gICAgZXhwZWN0KER1cmF0aW9uLnNlY29uZHMoNjUpLnRvSXNvU3RyaW5nKCkpLnRvRXF1YWwoJ1BUMU01UycpO1xuICAgIGV4cGVjdChEdXJhdGlvbi5zZWNvbmRzKDEgKyA2MCAqICgxICsgNjAgKiAoMSArIDI0KSkpLnRvSXNvU3RyaW5nKCkpLnRvRXF1YWwoJ1AxRFQxSDFNMVMnKTtcbiAgfSk7XG5cbiAgdGVzdCgncGFyc2UnLCAoKSA9PiB7XG4gICAgZXhwZWN0KER1cmF0aW9uLnBhcnNlKCdQVDBTJykudG9TZWNvbmRzKCkpLnRvRXF1YWwoMCk7XG4gICAgZXhwZWN0KER1cmF0aW9uLnBhcnNlKCdQVDBNJykudG9TZWNvbmRzKCkpLnRvRXF1YWwoMCk7XG4gICAgZXhwZWN0KER1cmF0aW9uLnBhcnNlKCdQVDBIJykudG9TZWNvbmRzKCkpLnRvRXF1YWwoMCk7XG4gICAgZXhwZWN0KER1cmF0aW9uLnBhcnNlKCdQMEQnKS50b1NlY29uZHMoKSkudG9FcXVhbCgwKTtcblxuICAgIGV4cGVjdChEdXJhdGlvbi5wYXJzZSgnUFQ1UycpLnRvU2Vjb25kcygpKS50b0VxdWFsKDUpO1xuICAgIGV4cGVjdChEdXJhdGlvbi5wYXJzZSgnUFQ1TScpLnRvU2Vjb25kcygpKS50b0VxdWFsKDMwMCk7XG4gICAgZXhwZWN0KER1cmF0aW9uLnBhcnNlKCdQVDVIJykudG9TZWNvbmRzKCkpLnRvRXF1YWwoMThfMDAwKTtcbiAgICBleHBlY3QoRHVyYXRpb24ucGFyc2UoJ1A1RCcpLnRvU2Vjb25kcygpKS50b0VxdWFsKDQzMl8wMDApO1xuXG4gICAgZXhwZWN0KER1cmF0aW9uLnBhcnNlKCdQMURUMUgxTTFTJykudG9TZWNvbmRzKCkpLnRvRXF1YWwoMSArIDYwICogKDEgKyA2MCAqICgxICsgMjQpKSk7XG4gIH0pO1xuXG4gIHRlc3QoJ3JlamVjdCBpbGxlZ2FsIHBhcnNlcycsICgpID0+IHtcbiAgICBjb25zdCBlcnIgPSAnTm90IGEgdmFsaWQgSVNPIGR1cmF0aW9uJztcbiAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgRHVyYXRpb24ucGFyc2UoJ1BUMUQnKTtcbiAgICB9KS50b1Rocm93KGVycik7XG5cbiAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgRHVyYXRpb24ucGFyc2UoJ1A1UycpO1xuICAgIH0pLnRvVGhyb3coZXJyKTtcbiAgfSk7XG5cbiAgdGVzdCgndG8gaHVtYW4gc3RyaW5nJywgKCkgPT4ge1xuICAgIGV4cGVjdChEdXJhdGlvbi5taW51dGVzKDApLnRvSHVtYW5TdHJpbmcoKSkudG9FcXVhbCgnMCBtaW51dGVzJyk7XG4gICAgZXhwZWN0KER1cmF0aW9uLm1pbnV0ZXMoTGF6eS5udW1iZXIoeyBwcm9kdWNlOiAoKSA9PiA1IH0pKS50b0h1bWFuU3RyaW5nKCkpLnRvRXF1YWwoJzx0b2tlbj4gbWludXRlcycpO1xuXG4gICAgZXhwZWN0KER1cmF0aW9uLmRheXMoMSkudG9IdW1hblN0cmluZygpKS50b0VxdWFsKCcxIGRheScpO1xuICAgIGV4cGVjdChEdXJhdGlvbi5ob3VycygxKS50b0h1bWFuU3RyaW5nKCkpLnRvRXF1YWwoJzEgaG91cicpO1xuICAgIGV4cGVjdChEdXJhdGlvbi5taW51dGVzKDEpLnRvSHVtYW5TdHJpbmcoKSkudG9FcXVhbCgnMSBtaW51dGUnKTtcbiAgICBleHBlY3QoRHVyYXRpb24uc2Vjb25kcygxKS50b0h1bWFuU3RyaW5nKCkpLnRvRXF1YWwoJzEgc2Vjb25kJyk7XG4gICAgZXhwZWN0KER1cmF0aW9uLm1pbGxpcygxKS50b0h1bWFuU3RyaW5nKCkpLnRvRXF1YWwoJzEgbWlsbGknKTtcblxuICAgIGV4cGVjdChEdXJhdGlvbi5taW51dGVzKDEwKS50b0h1bWFuU3RyaW5nKCkpLnRvRXF1YWwoJzEwIG1pbnV0ZXMnKTtcblxuICAgIGV4cGVjdChEdXJhdGlvbi5taW51dGVzKDYyKS50b0h1bWFuU3RyaW5nKCkpLnRvRXF1YWwoJzEgaG91ciAyIG1pbnV0ZXMnKTtcblxuICAgIGV4cGVjdChEdXJhdGlvbi5zZWNvbmRzKDM2NjYpLnRvSHVtYW5TdHJpbmcoKSkudG9FcXVhbCgnMSBob3VyIDEgbWludXRlJyk7XG5cbiAgICBleHBlY3QoRHVyYXRpb24ubWlsbGlzKDMwMDApLnRvSHVtYW5TdHJpbmcoKSkudG9FcXVhbCgnMyBzZWNvbmRzJyk7XG4gICAgZXhwZWN0KER1cmF0aW9uLm1pbGxpcygzNjY2KS50b0h1bWFuU3RyaW5nKCkpLnRvRXF1YWwoJzMgc2Vjb25kcyA2NjYgbWlsbGlzJyk7XG5cbiAgICBleHBlY3QoRHVyYXRpb24ubWlsbGlzKDMuNikudG9IdW1hblN0cmluZygpKS50b0VxdWFsKCczLjYgbWlsbGlzJyk7XG4gIH0pO1xuXG4gIHRlc3QoJ2FkZCB0d28gZHVyYXRpb25zJywgKCkgPT4ge1xuICAgIGV4cGVjdChEdXJhdGlvbi5taW51dGVzKDEpLnBsdXMoRHVyYXRpb24uc2Vjb25kcygzMCkpLnRvU2Vjb25kcygpKS50b0VxdWFsKER1cmF0aW9uLnNlY29uZHMoOTApLnRvU2Vjb25kcygpKTtcbiAgICBleHBlY3QoRHVyYXRpb24ubWludXRlcygxKS5wbHVzKER1cmF0aW9uLnNlY29uZHMoMzApKS50b01pbnV0ZXMoeyBpbnRlZ3JhbDogZmFsc2UgfSkpXG4gICAgICAudG9FcXVhbChEdXJhdGlvbi5zZWNvbmRzKDkwKS50b01pbnV0ZXMoeyBpbnRlZ3JhbDogZmFsc2UgfSkpO1xuICB9KTtcblxuICB0ZXN0KCdzdWJ0cmFjdCB0d28gZHVyYXRpb25zJywgKCkgPT4ge1xuICAgIGV4cGVjdChEdXJhdGlvbi5taW51dGVzKDEpLm1pbnVzKER1cmF0aW9uLnNlY29uZHMoMzApKS50b1NlY29uZHMoKSkudG9FcXVhbChEdXJhdGlvbi5zZWNvbmRzKDMwKS50b1NlY29uZHMoKSk7XG4gICAgZXhwZWN0KER1cmF0aW9uLm1pbnV0ZXMoMSkubWludXMoRHVyYXRpb24uc2Vjb25kcygzMCkpLnRvTWludXRlcyh7IGludGVncmFsOiBmYWxzZSB9KSlcbiAgICAgIC50b0VxdWFsKER1cmF0aW9uLnNlY29uZHMoMzApLnRvTWludXRlcyh7IGludGVncmFsOiBmYWxzZSB9KSk7XG4gIH0pO1xuXG4gIHRlc3QoJ2dldCB1bml0IGxhYmVsIGZyb20gZHVyYXRpb24nLCAoKSA9PiB7XG4gICAgZXhwZWN0KER1cmF0aW9uLm1pbnV0ZXMoTGF6eS5udW1iZXIoeyBwcm9kdWNlOiAoKSA9PiAxMCB9KSkudW5pdExhYmVsKCkpLnRvRXF1YWwoJ21pbnV0ZXMnKTtcbiAgICBleHBlY3QoRHVyYXRpb24ubWludXRlcyg2MikudW5pdExhYmVsKCkpLnRvRXF1YWwoJ21pbnV0ZXMnKTtcbiAgICBleHBlY3QoRHVyYXRpb24uc2Vjb25kcygxMCkudW5pdExhYmVsKCkpLnRvRXF1YWwoJ3NlY29uZHMnKTtcbiAgICBleHBlY3QoRHVyYXRpb24ubWlsbGlzKDEpLnVuaXRMYWJlbCgpKS50b0VxdWFsKCdtaWxsaXMnKTtcbiAgICBleHBlY3QoRHVyYXRpb24uaG91cnMoMTAwMCkudW5pdExhYmVsKCkpLnRvRXF1YWwoJ2hvdXJzJyk7XG4gICAgZXhwZWN0KER1cmF0aW9uLmRheXMoMikudW5pdExhYmVsKCkpLnRvRXF1YWwoJ2RheXMnKTtcbiAgfSk7XG5cbiAgdGVzdCgnZm9ybWF0IG51bWJlciB0b2tlbiB0byBudW1iZXInLCAoKSA9PiB7XG4gICAgY29uc3Qgc3RhY2sgPSBuZXcgU3RhY2soKTtcbiAgICBjb25zdCBsYXp5RHVyYXRpb24gPSBEdXJhdGlvbi5taW51dGVzKExhenkubnVtYmVyKHsgcHJvZHVjZTogKCkgPT4gMTAgfSkpO1xuICAgIGV4cGVjdChzdGFjay5yZXNvbHZlKGxhenlEdXJhdGlvbi5mb3JtYXRUb2tlblRvTnVtYmVyKCkpKS50b0VxdWFsKCcxMCBtaW51dGVzJyk7XG4gICAgZXhwZWN0KER1cmF0aW9uLmhvdXJzKDEwKS5mb3JtYXRUb2tlblRvTnVtYmVyKCkpLnRvRXF1YWwoJzEwIGhvdXJzJyk7XG4gICAgZXhwZWN0KER1cmF0aW9uLmRheXMoNSkuZm9ybWF0VG9rZW5Ub051bWJlcigpKS50b0VxdWFsKCc1IGRheXMnKTtcbiAgfSk7XG5cbiAgdGVzdCgnZHVyYXRpb24gaXMgdW5yZXNvbHZlZCcsICgpID0+IHtcbiAgICBjb25zdCBsYXp5RHVyYXRpb24gPSBEdXJhdGlvbi5taW51dGVzKExhenkubnVtYmVyKHsgcHJvZHVjZTogKCkgPT4gMTAgfSkpO1xuICAgIGV4cGVjdChsYXp5RHVyYXRpb24uaXNVbnJlc29sdmVkKCkpLnRvRXF1YWwodHJ1ZSk7XG4gICAgZXhwZWN0KER1cmF0aW9uLmhvdXJzKDEwKS5pc1VucmVzb2x2ZWQoKSkudG9FcXVhbChmYWxzZSk7XG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKCdpbnRlZ3JhbCBmbGFnIGNoZWNrcycsICgpID0+IHtcbiAgdGVzdCgnY29udmVydCBmcmFjdGlvbmFsIG1pbnV0ZXMgdG8gbWludXRlcycsICgpID0+IHtcbiAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgRHVyYXRpb24ubWludXRlcygwLjUpLnRvTWludXRlcygpO1xuICAgIH0pLnRvVGhyb3coL211c3QgYmUgYSB3aG9sZSBudW1iZXIgb2YvKTtcbiAgfSk7XG5cbiAgdGVzdCgnY29udmVydCBmcmFjdGlvbmFsIG1pbnV0ZXMgdG8gbWludXRlcyAtIGludGVncmFsOiBmYWxzZScsICgpID0+IHtcbiAgICBleHBlY3QoRHVyYXRpb24ubWludXRlcyg1LjUpLnRvTWludXRlcyh7IGludGVncmFsOiBmYWxzZSB9KSkudG9FcXVhbCg1LjUpO1xuICB9KTtcblxuICB0ZXN0KCdjb252ZXJ0IHdob2xlIG1pbnV0ZXMgdG8gbWludXRlcycsICgpID0+IHtcbiAgICBleHBlY3QoRHVyYXRpb24ubWludXRlcyg1KS50b01pbnV0ZXMoKSkudG9FcXVhbCg1KTtcbiAgfSk7XG5cbiAgdGVzdCgnY29udmVydCBmcmFjdGlvbmFsIG1pbnV0ZXMgdG8gZnJhY3Rpb25hbCBzZWNvbmRzJywgKCkgPT4ge1xuICAgIGV4cGVjdCgoKSA9PiB7XG4gICAgICBEdXJhdGlvbi5taW51dGVzKDkvOCkudG9TZWNvbmRzKCk7XG4gICAgfSkudG9UaHJvdygvY2Fubm90IGJlIGNvbnZlcnRlZCBpbnRvIGEgd2hvbGUgbnVtYmVyIG9mLyk7XG4gIH0pO1xuXG4gIHRlc3QoJ2NvbnZlcnQgZnJhY3Rpb25hbCBtaW51dGVzIHRvIGZyYWN0aW9uYWwgc2Vjb25kcyAtIGludGVncmFsOiBmYWxzZScsICgpID0+IHtcbiAgICBleHBlY3QoRHVyYXRpb24ubWludXRlcyg5LzgpLnRvU2Vjb25kcyh7IGludGVncmFsOiBmYWxzZSB9KSkudG9FcXVhbCg2Ny41KTtcbiAgfSk7XG5cbiAgdGVzdCgnY29udmVydCBmcmFjdGlvbmFsIG1pbnV0ZXMgdG8gd2hvbGUgc2Vjb25kcycsICgpID0+IHtcbiAgICBleHBlY3QoRHVyYXRpb24ubWludXRlcyg1LzQpLnRvU2Vjb25kcyh7IGludGVncmFsOiBmYWxzZSB9KSkudG9FcXVhbCg3NSk7XG4gIH0pO1xuXG4gIHRlc3QoJ2NvbnZlcnQgd2hvbGUgbWludXRlcyB0byB3aG9sZSBzZWNvbmRzJywgKCkgPT4ge1xuICAgIGV4cGVjdChEdXJhdGlvbi5taW51dGVzKDEwKS50b1NlY29uZHMoeyBpbnRlZ3JhbDogZmFsc2UgfSkpLnRvRXF1YWwoNjAwKTtcbiAgfSk7XG5cbiAgdGVzdCgnY29udmVydCBzZWNvbmRzIHRvIGZyYWN0aW9uYWwgbWludXRlcycsICgpID0+IHtcbiAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgRHVyYXRpb24uc2Vjb25kcyg0NSkudG9NaW51dGVzKCk7XG4gICAgfSkudG9UaHJvdygvY2Fubm90IGJlIGNvbnZlcnRlZCBpbnRvIGEgd2hvbGUgbnVtYmVyIG9mLyk7XG4gIH0pO1xuXG4gIHRlc3QoJ2NvbnZlcnQgc2Vjb25kcyB0byBmcmFjdGlvbmFsIG1pbnV0ZXMgLSBpbnRlZ3JhbDogZmFsc2UnLCAoKSA9PiB7XG4gICAgZXhwZWN0KER1cmF0aW9uLnNlY29uZHMoNDUpLnRvTWludXRlcyh7IGludGVncmFsOiBmYWxzZSB9KSkudG9FcXVhbCgwLjc1KTtcbiAgfSk7XG5cbiAgdGVzdCgnY29udmVydCBzZWNvbmRzIHRvIHdob2xlIG1pbnV0ZXMnLCAoKSA9PiB7XG4gICAgZXhwZWN0KER1cmF0aW9uLnNlY29uZHMoMTIwKS50b01pbnV0ZXMoKSkudG9FcXVhbCgyKTtcbiAgfSk7XG59KTtcblxuZnVuY3Rpb24gZmxvYXRFcXVhbChhY3R1YWw6IG51bWJlciwgZXhwZWN0ZWQ6IG51bWJlcikge1xuICBleHBlY3QoXG4gICAgLy8gRmxvYXRzIGFyZSBzdWJqZWN0IHRvIHJvdW5kaW5nIGVycm9ycyB1cCB0byBOdW1iZXIuRVNQSUxPTlxuICAgIGFjdHVhbCA+PSBleHBlY3RlZCAtIE51bWJlci5FUFNJTE9OICYmIGFjdHVhbCA8PSBleHBlY3RlZCArIE51bWJlci5FUFNJTE9OLFxuICApLnRvRXF1YWwodHJ1ZSk7XG59Il19