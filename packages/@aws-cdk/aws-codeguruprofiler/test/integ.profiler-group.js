"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const aws_iam_1 = require("@aws-cdk/aws-iam");
const core_1 = require("@aws-cdk/core");
const integ_tests_1 = require("@aws-cdk/integ-tests");
const lib_1 = require("../lib");
class ProfilerGroupIntegrationTest extends core_1.Stack {
    constructor(scope, id, props) {
        super(scope, id, props);
        const profilingGroup = new lib_1.ProfilingGroup(this, 'MyProfilingGroup');
        const publishAppRole = new aws_iam_1.Role(this, 'PublishAppRole', {
            assumedBy: new aws_iam_1.AccountRootPrincipal(),
        });
        profilingGroup.grantPublish(publishAppRole);
        const readAppRole = new aws_iam_1.Role(this, 'ReadAppRole', {
            assumedBy: new aws_iam_1.AccountRootPrincipal(),
        });
        profilingGroup.grantRead(readAppRole);
    }
}
const app = new core_1.App();
new integ_tests_1.IntegTest(app, 'cdk-code-guru-profiler-group', {
    testCases: [new ProfilerGroupIntegrationTest(app, 'ProfilerGroupIntegrationTest')],
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZWcucHJvZmlsZXItZ3JvdXAuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbnRlZy5wcm9maWxlci1ncm91cC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDhDQUE4RDtBQUM5RCx3Q0FBdUQ7QUFDdkQsc0RBQWlEO0FBQ2pELGdDQUF3QztBQUV4QyxNQUFNLDRCQUE2QixTQUFRLFlBQUs7SUFDOUMsWUFBWSxLQUFVLEVBQUUsRUFBVSxFQUFFLEtBQWtCO1FBQ3BELEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRXhCLE1BQU0sY0FBYyxHQUFHLElBQUksb0JBQWMsQ0FBQyxJQUFJLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztRQUVwRSxNQUFNLGNBQWMsR0FBRyxJQUFJLGNBQUksQ0FBQyxJQUFJLEVBQUUsZ0JBQWdCLEVBQUU7WUFDdEQsU0FBUyxFQUFFLElBQUksOEJBQW9CLEVBQUU7U0FDdEMsQ0FBQyxDQUFDO1FBQ0gsY0FBYyxDQUFDLFlBQVksQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUU1QyxNQUFNLFdBQVcsR0FBRyxJQUFJLGNBQUksQ0FBQyxJQUFJLEVBQUUsYUFBYSxFQUFFO1lBQ2hELFNBQVMsRUFBRSxJQUFJLDhCQUFvQixFQUFFO1NBQ3RDLENBQUMsQ0FBQztRQUNILGNBQWMsQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLENBQUM7S0FFdkM7Q0FDRjtBQUVELE1BQU0sR0FBRyxHQUFHLElBQUksVUFBRyxFQUFFLENBQUM7QUFFdEIsSUFBSSx1QkFBUyxDQUFDLEdBQUcsRUFBRSw4QkFBOEIsRUFBRTtJQUNqRCxTQUFTLEVBQUUsQ0FBQyxJQUFJLDRCQUE0QixDQUFDLEdBQUcsRUFBRSw4QkFBOEIsQ0FBQyxDQUFDO0NBQ25GLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFjY291bnRSb290UHJpbmNpcGFsLCBSb2xlIH0gZnJvbSAnQGF3cy1jZGsvYXdzLWlhbSc7XG5pbXBvcnQgeyBBcHAsIFN0YWNrLCBTdGFja1Byb3BzIH0gZnJvbSAnQGF3cy1jZGsvY29yZSc7XG5pbXBvcnQgeyBJbnRlZ1Rlc3QgfSBmcm9tICdAYXdzLWNkay9pbnRlZy10ZXN0cyc7XG5pbXBvcnQgeyBQcm9maWxpbmdHcm91cCB9IGZyb20gJy4uL2xpYic7XG5cbmNsYXNzIFByb2ZpbGVyR3JvdXBJbnRlZ3JhdGlvblRlc3QgZXh0ZW5kcyBTdGFjayB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBBcHAsIGlkOiBzdHJpbmcsIHByb3BzPzogU3RhY2tQcm9wcykge1xuICAgIHN1cGVyKHNjb3BlLCBpZCwgcHJvcHMpO1xuXG4gICAgY29uc3QgcHJvZmlsaW5nR3JvdXAgPSBuZXcgUHJvZmlsaW5nR3JvdXAodGhpcywgJ015UHJvZmlsaW5nR3JvdXAnKTtcblxuICAgIGNvbnN0IHB1Ymxpc2hBcHBSb2xlID0gbmV3IFJvbGUodGhpcywgJ1B1Ymxpc2hBcHBSb2xlJywge1xuICAgICAgYXNzdW1lZEJ5OiBuZXcgQWNjb3VudFJvb3RQcmluY2lwYWwoKSxcbiAgICB9KTtcbiAgICBwcm9maWxpbmdHcm91cC5ncmFudFB1Ymxpc2gocHVibGlzaEFwcFJvbGUpO1xuXG4gICAgY29uc3QgcmVhZEFwcFJvbGUgPSBuZXcgUm9sZSh0aGlzLCAnUmVhZEFwcFJvbGUnLCB7XG4gICAgICBhc3N1bWVkQnk6IG5ldyBBY2NvdW50Um9vdFByaW5jaXBhbCgpLFxuICAgIH0pO1xuICAgIHByb2ZpbGluZ0dyb3VwLmdyYW50UmVhZChyZWFkQXBwUm9sZSk7XG5cbiAgfVxufVxuXG5jb25zdCBhcHAgPSBuZXcgQXBwKCk7XG5cbm5ldyBJbnRlZ1Rlc3QoYXBwLCAnY2RrLWNvZGUtZ3VydS1wcm9maWxlci1ncm91cCcsIHtcbiAgdGVzdENhc2VzOiBbbmV3IFByb2ZpbGVyR3JvdXBJbnRlZ3JhdGlvblRlc3QoYXBwLCAnUHJvZmlsZXJHcm91cEludGVncmF0aW9uVGVzdCcpXSxcbn0pO1xuIl19