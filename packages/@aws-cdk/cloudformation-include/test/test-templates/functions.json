{
  "Mappings" : {
    "RegionMap" : {
      "region-1" : { 
        "HVM64" : "name1", "HVMG2" : "name2" 
      }
    }
  },
  "Resources": {

    "Vpc": {
      "Type" : "AWS::EC2::VPC",
      "Properties" : {
        "CidrBlock" : {
            "Fn::Cidr": [ "10.0.0.0/24", "6", "5"]
        }
      }
    },
    "2ArgVpc": {
      "Type" : "AWS::EC2::VPC",
      "Properties" : {
        "CidrBlock" : {
          "Fn::Cidr": [ "10.0.0.0/24", "6"]
        }
      }
    },
    "Bucket": {
      "Type": "AWS::S3::Bucket",
      "Properties": {
        "BucketName": {
          "Fn::FindInMap": [
              "RegionMap",
              "region-1",
              "HVM64"
          ]
        }
      }
    },
    "subnet1" : {
      "Type" : "AWS::EC2::Subnet",
      "Properties" : {
        "VpcId" : { 
          "Fn::Split": [
              ",",
              { "Fn::ImportValue" : "ImportedVpcId" }
          ]
        },
        "CidrBlock" : "10.0.0.0/24",
        "AvailabilityZone" : {
          "Fn::Select" : [ 
            "0", 
            { 
              "Fn::GetAZs" : "" 
            } 
          ]
        }
      }
    },
    
    "subnet2" : {
      "Type" : "AWS::EC2::Subnet",
      "Properties" : {
        "VpcId" : { 
          "Fn::Select" : ["3", ["foo", "aValidVPCID", "foo2"]]
        },
        "CidrBlock" : "10.0.0.0/24",
        "AvailabilityZone" : {
          "Fn::Select" : [ 
            "0", 
            { 
              "Fn::GetAZs" : "eu-west-2" 
            } 
          ]
        }
      }
    },
    "transformBucket": {
      "Type": "AWS::S3::Bucket",
      "Properties": {
        "BucketName": {
          "Fn::Transform": {
            "Name": "AWS::Include",
            "Parameters": {
              "Location": "location"
            }
          }
        }
      }
    }
  }
} 