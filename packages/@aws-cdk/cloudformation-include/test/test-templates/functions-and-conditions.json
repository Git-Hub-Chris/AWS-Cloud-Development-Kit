{
    "Mappings" : {
      "RegionMap" : {
        "region-1" : { 
          "HVM64" : "name1", "HVMG2" : "name2" 
        }
      }
    },
    "Conditions": {
        "AlwaysTrueCond": {
          "Fn::Not": [{
            "Fn::Equals": [
              {
                "Ref": "AWS::Region"
              },
              "completely-made-up-region"
            ]
          }]
        },
        "AlwaysFalseCond": {
          "Fn::Equals": [
            {
              "Ref": "AWS::Region"
            },
            "completely-made-up-region"
          ]
        }
      },
    "Resources": {
      "Vpc": {
        "Type" : "AWS::EC2::VPC",
        "Properties" : {
          "CidrBlock" : {
              "Fn::If": [
                  "AlwaysTrueCond",
                  { "Fn::Cidr": [ "192.168.1.1/24", "2"] },
                  { "Fn::Cidr": [ "10.0.0.0/24", "6", "5"] }
              ]
          }
        }
      },
      "Bucket": {
        "Type": "AWS::S3::Bucket",
        "Properties": {
          "BucketName": {
            "Fn::If": [
              {"Fn::Or": ["AlwaysFalseCond", "AlwaysFalseCond"]},
              "Unreachable",
              {"Fn::FindInMap": [
                "RegionMap",
                "region-1",
                "HVM64"
              ]}
            ]
          }
        }
      },
      "subnet1" : {
        "Type" : "AWS::EC2::Subnet",
        "Properties" : {
          "VpcId" : { 
            "Fn::If": [
              {"Fn::And": ["AlwaysTrueCond", "AlwaysTrueCond"]},
              { 
                "Fn::Split": [
                  ",",
                  { "Fn::ImportValue" : "ImportedVpcId" }
              ]},
              "Unreachable"
            ]
          },
          "CidrBlock" : "10.0.0.0/24",
          "AvailabilityZone" : {
            "Fn::Select" : [ 
              "0", 
              { 
                "Fn::GetAZs" : "" 
              } 
            ]
          }
        }
      },
      "transformBucket": {
        "Type": "AWS::S3::Bucket",
        "Properties": {
          "BucketName": {
            "Fn::If": [
              { "Fn::Or": ["AlwaysFalseCond", "AlwaysTrueCond"]}, {
                "Fn::Transform": {
                  "Name": "AWS::Include",
                  "Parameters": {
                    "Location": "location",
                    "AnotherParameter": {
                      "Fn:Base64": "AnotherValue"
                    }
                  }
                }
              }
            ]
          }
        }
      }
    }
  } 