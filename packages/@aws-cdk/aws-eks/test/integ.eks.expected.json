{
  "Resources": {
    "VPCB9E5F0B4": {
      "Type": "AWS::EC2::VPC",
      "Properties": {
        "CidrBlock": "10.244.0.0/16",
        "EnableDnsHostnames": true,
        "EnableDnsSupport": true,
        "InstanceTenancy": "default",
        "Tags": [{
            "Key": "env",
            "Value": "dev"
          },
          {
            "Key": "Name",
            "Value": "Network/VPC"
          }
        ]
      }
    },
    "VPCpubSubnet1Subnet0C8ABA07": {
      "Type": "AWS::EC2::Subnet",
      "Properties": {
        "CidrBlock": "10.244.0.0/24",
        "VpcId": {
          "Ref": "VPCB9E5F0B4"
        },
        "AvailabilityZone": "us-east-1a",
        "MapPublicIpOnLaunch": true,
        "Tags": [{
            "Key": "env",
            "Value": "dev"
          },
          {
            "Key": "Name",
            "Value": "Network/VPC/pubSubnet1"
          }
        ]
      }
    },
    "VPCpubSubnet1RouteTable756FAD69": {
      "Type": "AWS::EC2::RouteTable",
      "Properties": {
        "VpcId": {
          "Ref": "VPCB9E5F0B4"
        },
        "Tags": [{
            "Key": "env",
            "Value": "dev"
          },
          {
            "Key": "Name",
            "Value": "Network/VPC/pubSubnet1"
          }
        ]
      }
    },
    "VPCpubSubnet1RouteTableAssociationC2AF7D7F": {
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
      "Properties": {
        "RouteTableId": {
          "Ref": "VPCpubSubnet1RouteTable756FAD69"
        },
        "SubnetId": {
          "Ref": "VPCpubSubnet1Subnet0C8ABA07"
        }
      }
    },
    "VPCpubSubnet1DefaultRouteCDA1FA9F": {
      "Type": "AWS::EC2::Route",
      "Properties": {
        "RouteTableId": {
          "Ref": "VPCpubSubnet1RouteTable756FAD69"
        },
        "DestinationCidrBlock": "0.0.0.0/0",
        "GatewayId": {
          "Ref": "VPCIGWB7E252D3"
        }
      }
    },
    "VPCpubSubnet2Subnet6B670947": {
      "Type": "AWS::EC2::Subnet",
      "Properties": {
        "CidrBlock": "10.244.1.0/24",
        "VpcId": {
          "Ref": "VPCB9E5F0B4"
        },
        "AvailabilityZone": "us-east-1b",
        "MapPublicIpOnLaunch": true,
        "Tags": [{
            "Key": "env",
            "Value": "dev"
          },
          {
            "Key": "Name",
            "Value": "Network/VPC/pubSubnet2"
          }
        ]
      }
    },
    "VPCpubSubnet2RouteTable45DA8911": {
      "Type": "AWS::EC2::RouteTable",
      "Properties": {
        "VpcId": {
          "Ref": "VPCB9E5F0B4"
        },
        "Tags": [{
            "Key": "env",
            "Value": "dev"
          },
          {
            "Key": "Name",
            "Value": "Network/VPC/pubSubnet2"
          }
        ]
      }
    },
    "VPCpubSubnet2RouteTableAssociation7D471071": {
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
      "Properties": {
        "RouteTableId": {
          "Ref": "VPCpubSubnet2RouteTable45DA8911"
        },
        "SubnetId": {
          "Ref": "VPCpubSubnet2Subnet6B670947"
        }
      }
    },
    "VPCpubSubnet2DefaultRoute16334988": {
      "Type": "AWS::EC2::Route",
      "Properties": {
        "RouteTableId": {
          "Ref": "VPCpubSubnet2RouteTable45DA8911"
        },
        "DestinationCidrBlock": "0.0.0.0/0",
        "GatewayId": {
          "Ref": "VPCIGWB7E252D3"
        }
      }
    },
    "VPCpubSubnet3Subnet7451FA5B": {
      "Type": "AWS::EC2::Subnet",
      "Properties": {
        "CidrBlock": "10.244.2.0/24",
        "VpcId": {
          "Ref": "VPCB9E5F0B4"
        },
        "AvailabilityZone": "us-east-1c",
        "MapPublicIpOnLaunch": true,
        "Tags": [{
            "Key": "env",
            "Value": "dev"
          },
          {
            "Key": "Name",
            "Value": "Network/VPC/pubSubnet3"
          }
        ]
      }
    },
    "VPCpubSubnet3RouteTableBBD8A2D5": {
      "Type": "AWS::EC2::RouteTable",
      "Properties": {
        "VpcId": {
          "Ref": "VPCB9E5F0B4"
        },
        "Tags": [{
            "Key": "env",
            "Value": "dev"
          },
          {
            "Key": "Name",
            "Value": "Network/VPC/pubSubnet3"
          }
        ]
      }
    },
    "VPCpubSubnet3RouteTableAssociation8C9A8511": {
      "Type": "AWS::EC2::SubnetRouteTableAssociation",
      "Properties": {
        "RouteTableId": {
          "Ref": "VPCpubSubnet3RouteTableBBD8A2D5"
        },
        "SubnetId": {
          "Ref": "VPCpubSubnet3Subnet7451FA5B"
        }
      }
    },
    "VPCpubSubnet3DefaultRoute1F163132": {
      "Type": "AWS::EC2::Route",
      "Properties": {
        "RouteTableId": {
          "Ref": "VPCpubSubnet3RouteTableBBD8A2D5"
        },
        "DestinationCidrBlock": "0.0.0.0/0",
        "GatewayId": {
          "Ref": "VPCIGWB7E252D3"
        }
      }
    },
    "VPCIGWB7E252D3": {
      "Type": "AWS::EC2::InternetGateway",
      "Properties": {
        "Tags": [{
            "Key": "env",
            "Value": "dev"
          },
          {
            "Key": "Name",
            "Value": "Network/VPC"
          }
        ]
      }
    },
    "VPCVPCGW99B986DC": {
      "Type": "AWS::EC2::VPCGatewayAttachment",
      "Properties": {
        "VpcId": {
          "Ref": "VPCB9E5F0B4"
        },
        "InternetGatewayId": {
          "Ref": "VPCIGWB7E252D3"
        }
      }
    },
    "ClusterClusterRoleCE5C05DD": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [{
            "Action": "sts:AssumeRole",
            "Effect": "Allow",
            "Principal": {
              "Service": "eks.amazonaws.com"
            }
          }],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          "arn:aws:iam::aws:policy/AmazonEKSClusterPolicy",
          "arn:aws:iam::aws:policy/AmazonEKSServicePolicy"
        ]
      }
    },
    "ClusterClusterSecurityGroup888CE76A": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "Cluster API Server Security Group.",
        "SecurityGroupEgress": [],
        "SecurityGroupIngress": [{
          "CidrIp": "0.0.0.0/0",
          "Description": "from 0.0.0.0/0:443",
          "FromPort": 443,
          "IpProtocol": "tcp",
          "ToPort": 443
        }],
        "Tags": [{
            "Key": "Name",
            "Value": "Cluster SecurityGroup"
          },
          {
            "Key": "Description",
            "Value": "The security group assigned to the cluster"
          }
        ],
        "VpcId": {
          "Ref": "VPCB9E5F0B4"
        }
      }
    },
    "ClusterClusterSecurityGrouptoNetworkNodeGroup1NodeGroupm5largeInstanceSecurityGroup66CA3E2D443D09371AE": {
      "Type": "AWS::EC2::SecurityGroupEgress",
      "Properties": {
        "GroupId": {
          "Fn::GetAtt": [
            "ClusterClusterSecurityGroup888CE76A",
            "GroupId"
          ]
        },
        "IpProtocol": "tcp",
        "Description": "to NetworkNodeGroup1NodeGroupm5largeInstanceSecurityGroup66CA3E2D:443",
        "DestinationSecurityGroupId": {
          "Fn::GetAtt": [
            "NodeGroup1NodeGroupm5largeInstanceSecurityGroup68AD5F49",
            "GroupId"
          ]
        },
        "FromPort": 443,
        "ToPort": 443
      }
    },
    "ClusterClusterSecurityGrouptoNetworkNodeGroup1NodeGroupm5largeInstanceSecurityGroup66CA3E2D1025655357B04FD99": {
      "Type": "AWS::EC2::SecurityGroupEgress",
      "Properties": {
        "GroupId": {
          "Fn::GetAtt": [
            "ClusterClusterSecurityGroup888CE76A",
            "GroupId"
          ]
        },
        "IpProtocol": "tcp",
        "Description": "to NetworkNodeGroup1NodeGroupm5largeInstanceSecurityGroup66CA3E2D:1025-65535",
        "DestinationSecurityGroupId": {
          "Fn::GetAtt": [
            "NodeGroup1NodeGroupm5largeInstanceSecurityGroup68AD5F49",
            "GroupId"
          ]
        },
        "FromPort": 1025,
        "ToPort": 65535
      }
    },
    "ClusterClusterSecurityGrouptoNetworkNodeGroup2NodeGroupt2mediumInstanceSecurityGroupD01C8274443C76137F1": {
      "Type": "AWS::EC2::SecurityGroupEgress",
      "Properties": {
        "GroupId": {
          "Fn::GetAtt": [
            "ClusterClusterSecurityGroup888CE76A",
            "GroupId"
          ]
        },
        "IpProtocol": "tcp",
        "Description": "to NetworkNodeGroup2NodeGroupt2mediumInstanceSecurityGroupD01C8274:443",
        "DestinationSecurityGroupId": {
          "Fn::GetAtt": [
            "NodeGroup2NodeGroupt2mediumInstanceSecurityGroup5F0C1B74",
            "GroupId"
          ]
        },
        "FromPort": 443,
        "ToPort": 443
      }
    },
    "ClusterClusterSecurityGrouptoNetworkNodeGroup2NodeGroupt2mediumInstanceSecurityGroupD01C82741025655350C077206": {
      "Type": "AWS::EC2::SecurityGroupEgress",
      "Properties": {
        "GroupId": {
          "Fn::GetAtt": [
            "ClusterClusterSecurityGroup888CE76A",
            "GroupId"
          ]
        },
        "IpProtocol": "tcp",
        "Description": "to NetworkNodeGroup2NodeGroupt2mediumInstanceSecurityGroupD01C8274:1025-65535",
        "DestinationSecurityGroupId": {
          "Fn::GetAtt": [
            "NodeGroup2NodeGroupt2mediumInstanceSecurityGroup5F0C1B74",
            "GroupId"
          ]
        },
        "FromPort": 1025,
        "ToPort": 65535
      }
    },
    "Cluster3DA9CCBA": {
      "Type": "AWS::EKS::Cluster",
      "Properties": {
        "ResourcesVpcConfig": {
          "SecurityGroupIds": [{
            "Fn::GetAtt": [
              "ClusterClusterSecurityGroup888CE76A",
              "GroupId"
            ]
          }],
          "SubnetIds": [{
              "Ref": "VPCpubSubnet1Subnet0C8ABA07"
            },
            {
              "Ref": "VPCpubSubnet2Subnet6B670947"
            },
            {
              "Ref": "VPCpubSubnet3Subnet7451FA5B"
            }
          ]
        },
        "RoleArn": {
          "Fn::GetAtt": [
            "ClusterClusterRoleCE5C05DD",
            "Arn"
          ]
        }
      }
    },
    "NodeGroup1NodeGroupm5largeInstanceSecurityGroup68AD5F49": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "Network/NodeGroup1/NodeGroup-m5.large/InstanceSecurityGroup",
        "SecurityGroupEgress": [{
          "CidrIp": "0.0.0.0/0",
          "Description": "Outbound traffic allowed by default",
          "FromPort": -1,
          "IpProtocol": "-1",
          "ToPort": -1
        }],
        "SecurityGroupIngress": [{
          "CidrIp": "0.0.0.0/0",
          "Description": "from 0.0.0.0/0:22",
          "FromPort": 22,
          "IpProtocol": "tcp",
          "ToPort": 22
        }],
        "Tags": [{
            "Key": "Name",
            "Value": "Network/NodeGroup1/NodeGroup-m5.large"
          },
          {
            "Key": {
              "Fn::Join": [
                "",
                [
                  "kubernetes.io/cluster/",
                  {
                    "Ref": "Cluster3DA9CCBA"
                  }
                ]
              ]
            },
            "Value": "owned"
          }
        ],
        "VpcId": {
          "Ref": "VPCB9E5F0B4"
        }
      }
    },
    "NodeGroup1NodeGroupm5largeInstanceSecurityGroupfromNetworkNodeGroup1NodeGroupm5largeInstanceSecurityGroup66CA3E2DALLPORTS5262B61A": {
      "Type": "AWS::EC2::SecurityGroupIngress",
      "Properties": {
        "IpProtocol": "tcp",
        "Description": "from NetworkNodeGroup1NodeGroupm5largeInstanceSecurityGroup66CA3E2D:ALL PORTS",
        "FromPort": 0,
        "GroupId": {
          "Fn::GetAtt": [
            "NodeGroup1NodeGroupm5largeInstanceSecurityGroup68AD5F49",
            "GroupId"
          ]
        },
        "SourceSecurityGroupId": {
          "Fn::GetAtt": [
            "NodeGroup1NodeGroupm5largeInstanceSecurityGroup68AD5F49",
            "GroupId"
          ]
        },
        "ToPort": 65535
      }
    },
    "NodeGroup1NodeGroupm5largeInstanceSecurityGroupfromNetworkNodeGroup1NodeGroupm5largeInstanceSecurityGroup66CA3E2DUDPALLPORTSD8C7EE65": {
      "Type": "AWS::EC2::SecurityGroupIngress",
      "Properties": {
        "IpProtocol": "udp",
        "Description": "from NetworkNodeGroup1NodeGroupm5largeInstanceSecurityGroup66CA3E2D:UDP ALL PORTS",
        "FromPort": 0,
        "GroupId": {
          "Fn::GetAtt": [
            "NodeGroup1NodeGroupm5largeInstanceSecurityGroup68AD5F49",
            "GroupId"
          ]
        },
        "SourceSecurityGroupId": {
          "Fn::GetAtt": [
            "NodeGroup1NodeGroupm5largeInstanceSecurityGroup68AD5F49",
            "GroupId"
          ]
        },
        "ToPort": 65535
      }
    },
    "NodeGroup1NodeGroupm5largeInstanceSecurityGroupfromNetworkNodeGroup1NodeGroupm5largeInstanceSecurityGroup66CA3E2DALLICMPB2CCCABA": {
      "Type": "AWS::EC2::SecurityGroupIngress",
      "Properties": {
        "IpProtocol": "icmp",
        "Description": "from NetworkNodeGroup1NodeGroupm5largeInstanceSecurityGroup66CA3E2D:ALL ICMP",
        "FromPort": -1,
        "GroupId": {
          "Fn::GetAtt": [
            "NodeGroup1NodeGroupm5largeInstanceSecurityGroup68AD5F49",
            "GroupId"
          ]
        },
        "SourceSecurityGroupId": {
          "Fn::GetAtt": [
            "NodeGroup1NodeGroupm5largeInstanceSecurityGroup68AD5F49",
            "GroupId"
          ]
        },
        "ToPort": -1
      }
    },
    "NodeGroup1NodeGroupm5largeInstanceSecurityGroupfromNetworkClusterClusterSecurityGroup4701EBCD443DB1B285D": {
      "Type": "AWS::EC2::SecurityGroupIngress",
      "Properties": {
        "IpProtocol": "tcp",
        "Description": "from NetworkClusterClusterSecurityGroup4701EBCD:443",
        "FromPort": 443,
        "GroupId": {
          "Fn::GetAtt": [
            "NodeGroup1NodeGroupm5largeInstanceSecurityGroup68AD5F49",
            "GroupId"
          ]
        },
        "SourceSecurityGroupId": {
          "Fn::GetAtt": [
            "ClusterClusterSecurityGroup888CE76A",
            "GroupId"
          ]
        },
        "ToPort": 443
      }
    },
    "NodeGroup1NodeGroupm5largeInstanceSecurityGroupfromNetworkClusterClusterSecurityGroup4701EBCD1025655351511743F": {
      "Type": "AWS::EC2::SecurityGroupIngress",
      "Properties": {
        "IpProtocol": "tcp",
        "Description": "from NetworkClusterClusterSecurityGroup4701EBCD:1025-65535",
        "FromPort": 1025,
        "GroupId": {
          "Fn::GetAtt": [
            "NodeGroup1NodeGroupm5largeInstanceSecurityGroup68AD5F49",
            "GroupId"
          ]
        },
        "SourceSecurityGroupId": {
          "Fn::GetAtt": [
            "ClusterClusterSecurityGroup888CE76A",
            "GroupId"
          ]
        },
        "ToPort": 65535
      }
    },
    "NodeGroup1NodeGroupm5largeInstanceRoleA66DE8CA": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [{
            "Action": "sts:AssumeRole",
            "Effect": "Allow",
            "Principal": {
              "Service": "ec2.amazonaws.com"
            }
          }],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          "arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy",
          "arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy",
          "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly"
        ]
      }
    },
    "NodeGroup1NodeGroupm5largeInstanceProfileCED4339B": {
      "Type": "AWS::IAM::InstanceProfile",
      "Properties": {
        "Roles": [{
          "Ref": "NodeGroup1NodeGroupm5largeInstanceRoleA66DE8CA"
        }]
      }
    },
    "NodeGroup1NodeGroupm5largeLaunchConfig593791C7": {
      "Type": "AWS::AutoScaling::LaunchConfiguration",
      "Properties": {
        "ImageId": "ami-0440e4f6b9713faf6",
        "InstanceType": "m5.large",
        "IamInstanceProfile": {
          "Ref": "NodeGroup1NodeGroupm5largeInstanceProfileCED4339B"
        },
        "KeyName": "aws-dev-key",
        "SecurityGroups": [{
          "Fn::GetAtt": [
            "NodeGroup1NodeGroupm5largeInstanceSecurityGroup68AD5F49",
            "GroupId"
          ]
        }],
        "UserData": {
          "Fn::Base64": {
            "Fn::Join": [
              "",
              [
                "set -o xtrace\n/etc/eks/bootstrap.sh",
                {
                  "Ref": "Cluster3DA9CCBA"
                },
                " --use-max-pods 29"
              ]
            ]
          }
        }
      },
      "DependsOn": [
        "NodeGroup1NodeGroupm5largeInstanceRoleA66DE8CA"
      ]
    },
    "NodeGroup1NodeGroupm5largeASG11C470FC": {
      "Type": "AWS::AutoScaling::AutoScalingGroup",
      "Properties": {
        "MaxSize": "6",
        "MinSize": "3",
        "DesiredCapacity": "3",
        "LaunchConfigurationName": {
          "Ref": "NodeGroup1NodeGroupm5largeLaunchConfig593791C7"
        },
        "Tags": [{
            "Key": "Name",
            "PropagateAtLaunch": true,
            "Value": "Network/NodeGroup1/NodeGroup-m5.large"
          },
          {
            "Key": {
              "Fn::Join": [
                "",
                [
                  "kubernetes.io/cluster/",
                  {
                    "Ref": "Cluster3DA9CCBA"
                  }
                ]
              ]
            },
            "PropagateAtLaunch": true,
            "Value": "owned"
          }
        ],
        "VPCZoneIdentifier": [{
            "Ref": "VPCpubSubnet1Subnet0C8ABA07"
          },
          {
            "Ref": "VPCpubSubnet2Subnet6B670947"
          },
          {
            "Ref": "VPCpubSubnet3Subnet7451FA5B"
          }
        ]
      },
      "UpdatePolicy": {
        "AutoScalingScheduledAction": {
          "IgnoreUnmodifiedGroupSizeProperties": true
        }
      }
    },
    "NodeGroup2NodeGroupt2mediumInstanceSecurityGroup5F0C1B74": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "Network/NodeGroup2/NodeGroup-t2.medium/InstanceSecurityGroup",
        "SecurityGroupEgress": [{
          "CidrIp": "0.0.0.0/0",
          "Description": "Outbound traffic allowed by default",
          "FromPort": -1,
          "IpProtocol": "-1",
          "ToPort": -1
        }],
        "SecurityGroupIngress": [{
          "CidrIp": "0.0.0.0/0",
          "Description": "from 0.0.0.0/0:22",
          "FromPort": 22,
          "IpProtocol": "tcp",
          "ToPort": 22
        }],
        "Tags": [{
            "Key": "Name",
            "Value": "Network/NodeGroup2/NodeGroup-t2.medium"
          },
          {
            "Key": {
              "Fn::Join": [
                "",
                [
                  "kubernetes.io/cluster/",
                  {
                    "Ref": "Cluster3DA9CCBA"
                  }
                ]
              ]
            },
            "Value": "owned"
          }
        ],
        "VpcId": {
          "Ref": "VPCB9E5F0B4"
        }
      }
    },
    "NodeGroup2NodeGroupt2mediumInstanceSecurityGroupfromNetworkNodeGroup2NodeGroupt2mediumInstanceSecurityGroupD01C8274ALLPORTSD33B9D19": {
      "Type": "AWS::EC2::SecurityGroupIngress",
      "Properties": {
        "IpProtocol": "tcp",
        "Description": "from NetworkNodeGroup2NodeGroupt2mediumInstanceSecurityGroupD01C8274:ALL PORTS",
        "FromPort": 0,
        "GroupId": {
          "Fn::GetAtt": [
            "NodeGroup2NodeGroupt2mediumInstanceSecurityGroup5F0C1B74",
            "GroupId"
          ]
        },
        "SourceSecurityGroupId": {
          "Fn::GetAtt": [
            "NodeGroup2NodeGroupt2mediumInstanceSecurityGroup5F0C1B74",
            "GroupId"
          ]
        },
        "ToPort": 65535
      }
    },
    "NodeGroup2NodeGroupt2mediumInstanceSecurityGroupfromNetworkNodeGroup2NodeGroupt2mediumInstanceSecurityGroupD01C8274UDPALLPORTSC5528849": {
      "Type": "AWS::EC2::SecurityGroupIngress",
      "Properties": {
        "IpProtocol": "udp",
        "Description": "from NetworkNodeGroup2NodeGroupt2mediumInstanceSecurityGroupD01C8274:UDP ALL PORTS",
        "FromPort": 0,
        "GroupId": {
          "Fn::GetAtt": [
            "NodeGroup2NodeGroupt2mediumInstanceSecurityGroup5F0C1B74",
            "GroupId"
          ]
        },
        "SourceSecurityGroupId": {
          "Fn::GetAtt": [
            "NodeGroup2NodeGroupt2mediumInstanceSecurityGroup5F0C1B74",
            "GroupId"
          ]
        },
        "ToPort": 65535
      }
    },
    "NodeGroup2NodeGroupt2mediumInstanceSecurityGroupfromNetworkNodeGroup2NodeGroupt2mediumInstanceSecurityGroupD01C8274ALLICMP19D2C58F": {
      "Type": "AWS::EC2::SecurityGroupIngress",
      "Properties": {
        "IpProtocol": "icmp",
        "Description": "from NetworkNodeGroup2NodeGroupt2mediumInstanceSecurityGroupD01C8274:ALL ICMP",
        "FromPort": -1,
        "GroupId": {
          "Fn::GetAtt": [
            "NodeGroup2NodeGroupt2mediumInstanceSecurityGroup5F0C1B74",
            "GroupId"
          ]
        },
        "SourceSecurityGroupId": {
          "Fn::GetAtt": [
            "NodeGroup2NodeGroupt2mediumInstanceSecurityGroup5F0C1B74",
            "GroupId"
          ]
        },
        "ToPort": -1
      }
    },
    "NodeGroup2NodeGroupt2mediumInstanceSecurityGroupfromNetworkClusterClusterSecurityGroup4701EBCD4432F758455": {
      "Type": "AWS::EC2::SecurityGroupIngress",
      "Properties": {
        "IpProtocol": "tcp",
        "Description": "from NetworkClusterClusterSecurityGroup4701EBCD:443",
        "FromPort": 443,
        "GroupId": {
          "Fn::GetAtt": [
            "NodeGroup2NodeGroupt2mediumInstanceSecurityGroup5F0C1B74",
            "GroupId"
          ]
        },
        "SourceSecurityGroupId": {
          "Fn::GetAtt": [
            "ClusterClusterSecurityGroup888CE76A",
            "GroupId"
          ]
        },
        "ToPort": 443
      }
    },
    "NodeGroup2NodeGroupt2mediumInstanceSecurityGroupfromNetworkClusterClusterSecurityGroup4701EBCD102565535386640B7": {
      "Type": "AWS::EC2::SecurityGroupIngress",
      "Properties": {
        "IpProtocol": "tcp",
        "Description": "from NetworkClusterClusterSecurityGroup4701EBCD:1025-65535",
        "FromPort": 1025,
        "GroupId": {
          "Fn::GetAtt": [
            "NodeGroup2NodeGroupt2mediumInstanceSecurityGroup5F0C1B74",
            "GroupId"
          ]
        },
        "SourceSecurityGroupId": {
          "Fn::GetAtt": [
            "ClusterClusterSecurityGroup888CE76A",
            "GroupId"
          ]
        },
        "ToPort": 65535
      }
    },
    "NodeGroup2NodeGroupt2mediumInstanceRoleFDAFEE3C": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [{
            "Action": "sts:AssumeRole",
            "Effect": "Allow",
            "Principal": {
              "Service": "ec2.amazonaws.com"
            }
          }],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          "arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy",
          "arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy",
          "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly"
        ]
      }
    },
    "NodeGroup2NodeGroupt2mediumInstanceProfile32011E3A": {
      "Type": "AWS::IAM::InstanceProfile",
      "Properties": {
        "Roles": [{
          "Ref": "NodeGroup2NodeGroupt2mediumInstanceRoleFDAFEE3C"
        }]
      }
    },
    "NodeGroup2NodeGroupt2mediumLaunchConfigA973C952": {
      "Type": "AWS::AutoScaling::LaunchConfiguration",
      "Properties": {
        "ImageId": "ami-0440e4f6b9713faf6",
        "InstanceType": "t2.medium",
        "IamInstanceProfile": {
          "Ref": "NodeGroup2NodeGroupt2mediumInstanceProfile32011E3A"
        },
        "KeyName": "aws-dev-key",
        "SecurityGroups": [{
          "Fn::GetAtt": [
            "NodeGroup2NodeGroupt2mediumInstanceSecurityGroup5F0C1B74",
            "GroupId"
          ]
        }],
        "UserData": {
          "Fn::Base64": {
            "Fn::Join": [
              "",
              [
                "set -o xtrace\n/etc/eks/bootstrap.sh",
                {
                  "Ref": "Cluster3DA9CCBA"
                },
                " --use-max-pods 17"
              ]
            ]
          }
        }
      },
      "DependsOn": [
        "NodeGroup2NodeGroupt2mediumInstanceRoleFDAFEE3C"
      ]
    },
    "NodeGroup2NodeGroupt2mediumASG4ED330E2": {
      "Type": "AWS::AutoScaling::AutoScalingGroup",
      "Properties": {
        "MaxSize": "4",
        "MinSize": "2",
        "DesiredCapacity": "2",
        "LaunchConfigurationName": {
          "Ref": "NodeGroup2NodeGroupt2mediumLaunchConfigA973C952"
        },
        "Tags": [{
            "Key": "Name",
            "PropagateAtLaunch": true,
            "Value": "Network/NodeGroup2/NodeGroup-t2.medium"
          },
          {
            "Key": {
              "Fn::Join": [
                "",
                [
                  "kubernetes.io/cluster/",
                  {
                    "Ref": "Cluster3DA9CCBA"
                  }
                ]
              ]
            },
            "PropagateAtLaunch": true,
            "Value": "owned"
          }
        ],
        "VPCZoneIdentifier": [{
            "Ref": "VPCpubSubnet1Subnet0C8ABA07"
          },
          {
            "Ref": "VPCpubSubnet2Subnet6B670947"
          },
          {
            "Ref": "VPCpubSubnet3Subnet7451FA5B"
          }
        ]
      },
      "UpdatePolicy": {
        "AutoScalingScheduledAction": {
          "IgnoreUnmodifiedGroupSizeProperties": true
        }
      }
    }
  }
}