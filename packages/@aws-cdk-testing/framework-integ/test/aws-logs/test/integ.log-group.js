"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const aws_s3_1 = require("aws-cdk-lib/aws-s3");
const aws_cdk_lib_1 = require("aws-cdk-lib");
const integ_tests_alpha_1 = require("@aws-cdk/integ-tests-alpha");
const aws_logs_1 = require("aws-cdk-lib/aws-logs");
class LogGroupIntegStack extends aws_cdk_lib_1.Stack {
    constructor(scope, id, props) {
        super(scope, id, props);
        var audit = new aws_logs_1.LogGroup(this, 'LogGroupLambdaAudit', {});
        var bucket = new aws_s3_1.Bucket(this, 'audit-bucket-id');
        const dataProtectionPolicy = new aws_logs_1.DataProtectionPolicy(this, {
            name: 'policy-name',
            description: 'policy description',
            identifiers: [aws_logs_1.DataIdentifier.DRIVERSLICENSE_US],
            identifierArnStrings: ['arn:aws:dataprotection::aws:data-identifier/EmailAddress'],
            logGroupNameAuditDestination: audit.logGroupName,
            s3BucketNameAuditDestination: bucket.bucketName,
        });
        new aws_logs_1.LogGroup(this, 'LogGroupLambda', {
            dataProtectionPolicy: dataProtectionPolicy,
        });
    }
}
const app = new aws_cdk_lib_1.App();
const stack = new LogGroupIntegStack(app, 'aws-cdk-log-group-integ');
new integ_tests_alpha_1.IntegTest(app, 'LogGroupInteg', { testCases: [stack] });
app.synth();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZWcubG9nLWdyb3VwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiaW50ZWcubG9nLWdyb3VwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsK0NBQTRDO0FBQzVDLDZDQUFxRDtBQUNyRCxrRUFBdUQ7QUFDdkQsbURBQXNGO0FBRXRGLE1BQU0sa0JBQW1CLFNBQVEsbUJBQUs7SUFDcEMsWUFBWSxLQUFVLEVBQUUsRUFBVSxFQUFFLEtBQWtCO1FBQ3BELEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRXhCLElBQUksS0FBSyxHQUFHLElBQUksbUJBQVEsQ0FBQyxJQUFJLEVBQUUscUJBQXFCLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFFMUQsSUFBSSxNQUFNLEdBQUcsSUFBSSxlQUFNLENBQUMsSUFBSSxFQUFFLGlCQUFpQixDQUFDLENBQUM7UUFFakQsTUFBTSxvQkFBb0IsR0FBRyxJQUFJLCtCQUFvQixDQUFDLElBQUksRUFBRTtZQUMxRCxJQUFJLEVBQUUsYUFBYTtZQUNuQixXQUFXLEVBQUUsb0JBQW9CO1lBQ2pDLFdBQVcsRUFBRSxDQUFDLHlCQUFjLENBQUMsaUJBQWlCLENBQUM7WUFDL0Msb0JBQW9CLEVBQUUsQ0FBQywwREFBMEQsQ0FBQztZQUNsRiw0QkFBNEIsRUFBRSxLQUFLLENBQUMsWUFBWTtZQUNoRCw0QkFBNEIsRUFBRSxNQUFNLENBQUMsVUFBVTtTQUNoRCxDQUFDLENBQUM7UUFFSCxJQUFJLG1CQUFRLENBQUMsSUFBSSxFQUFFLGdCQUFnQixFQUFFO1lBQ25DLG9CQUFvQixFQUFFLG9CQUFvQjtTQUMzQyxDQUFDLENBQUM7SUFDTCxDQUFDO0NBQ0Y7QUFFRCxNQUFNLEdBQUcsR0FBRyxJQUFJLGlCQUFHLEVBQUUsQ0FBQztBQUN0QixNQUFNLEtBQUssR0FBRyxJQUFJLGtCQUFrQixDQUFDLEdBQUcsRUFBRSx5QkFBeUIsQ0FBQyxDQUFDO0FBQ3JFLElBQUksNkJBQVMsQ0FBQyxHQUFHLEVBQUUsZUFBZSxFQUFFLEVBQUUsU0FBUyxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQzVELEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJ1Y2tldCB9IGZyb20gJ2F3cy1jZGstbGliL2F3cy1zMyc7XG5pbXBvcnQgeyBBcHAsIFN0YWNrLCBTdGFja1Byb3BzIH0gZnJvbSAnYXdzLWNkay1saWInO1xuaW1wb3J0IHsgSW50ZWdUZXN0IH0gZnJvbSAnQGF3cy1jZGsvaW50ZWctdGVzdHMtYWxwaGEnO1xuaW1wb3J0IHsgTG9nR3JvdXAsIERhdGFQcm90ZWN0aW9uUG9saWN5LCBEYXRhSWRlbnRpZmllciB9IGZyb20gJ2F3cy1jZGstbGliL2F3cy1sb2dzJztcblxuY2xhc3MgTG9nR3JvdXBJbnRlZ1N0YWNrIGV4dGVuZHMgU3RhY2sge1xuICBjb25zdHJ1Y3RvcihzY29wZTogQXBwLCBpZDogc3RyaW5nLCBwcm9wcz86IFN0YWNrUHJvcHMpIHtcbiAgICBzdXBlcihzY29wZSwgaWQsIHByb3BzKTtcblxuICAgIHZhciBhdWRpdCA9IG5ldyBMb2dHcm91cCh0aGlzLCAnTG9nR3JvdXBMYW1iZGFBdWRpdCcsIHt9KTtcblxuICAgIHZhciBidWNrZXQgPSBuZXcgQnVja2V0KHRoaXMsICdhdWRpdC1idWNrZXQtaWQnKTtcblxuICAgIGNvbnN0IGRhdGFQcm90ZWN0aW9uUG9saWN5ID0gbmV3IERhdGFQcm90ZWN0aW9uUG9saWN5KHRoaXMsIHtcbiAgICAgIG5hbWU6ICdwb2xpY3ktbmFtZScsXG4gICAgICBkZXNjcmlwdGlvbjogJ3BvbGljeSBkZXNjcmlwdGlvbicsXG4gICAgICBpZGVudGlmaWVyczogW0RhdGFJZGVudGlmaWVyLkRSSVZFUlNMSUNFTlNFX1VTXSxcbiAgICAgIGlkZW50aWZpZXJBcm5TdHJpbmdzOiBbJ2Fybjphd3M6ZGF0YXByb3RlY3Rpb246OmF3czpkYXRhLWlkZW50aWZpZXIvRW1haWxBZGRyZXNzJ10sXG4gICAgICBsb2dHcm91cE5hbWVBdWRpdERlc3RpbmF0aW9uOiBhdWRpdC5sb2dHcm91cE5hbWUsXG4gICAgICBzM0J1Y2tldE5hbWVBdWRpdERlc3RpbmF0aW9uOiBidWNrZXQuYnVja2V0TmFtZSxcbiAgICB9KTtcblxuICAgIG5ldyBMb2dHcm91cCh0aGlzLCAnTG9nR3JvdXBMYW1iZGEnLCB7XG4gICAgICBkYXRhUHJvdGVjdGlvblBvbGljeTogZGF0YVByb3RlY3Rpb25Qb2xpY3ksXG4gICAgfSk7XG4gIH1cbn1cblxuY29uc3QgYXBwID0gbmV3IEFwcCgpO1xuY29uc3Qgc3RhY2sgPSBuZXcgTG9nR3JvdXBJbnRlZ1N0YWNrKGFwcCwgJ2F3cy1jZGstbG9nLWdyb3VwLWludGVnJyk7XG5uZXcgSW50ZWdUZXN0KGFwcCwgJ0xvZ0dyb3VwSW50ZWcnLCB7IHRlc3RDYXNlczogW3N0YWNrXSB9KTtcbmFwcC5zeW50aCgpOyJdfQ==