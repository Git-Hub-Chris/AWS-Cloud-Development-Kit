"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const aws_s3_1 = require("aws-cdk-lib/aws-s3");
const aws_cdk_lib_1 = require("aws-cdk-lib");
const integ_tests_alpha_1 = require("@aws-cdk/integ-tests-alpha");
const aws_logs_1 = require("aws-cdk-lib/aws-logs");
class LogGroupIntegStack extends aws_cdk_lib_1.Stack {
    constructor(scope, id, props) {
        super(scope, id, props);
        var audit = new aws_logs_1.LogGroup(this, 'LogGroupLambdaAudit', {});
        var bucket = new aws_s3_1.Bucket(this, 'audit-bucket-id');
        const dataProtectionPolicy = new aws_logs_1.DataProtectionPolicy({
            name: 'policy-name',
            description: 'policy description',
            identifiers: [aws_logs_1.DataIdentifier.DRIVERSLICENSE_US, new aws_logs_1.DataIdentifier('EmailAddress')],
            logGroupAuditDestination: audit,
            s3BucketAuditDestination: bucket,
        });
        new aws_logs_1.LogGroup(this, 'LogGroupLambda', {
            dataProtectionPolicy: dataProtectionPolicy,
        });
    }
}
const app = new aws_cdk_lib_1.App();
const stack = new LogGroupIntegStack(app, 'aws-cdk-log-group-integ');
new integ_tests_alpha_1.IntegTest(app, 'LogGroupInteg', { testCases: [stack] });
app.synth();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZWcubG9nLWdyb3VwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiaW50ZWcubG9nLWdyb3VwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsK0NBQTRDO0FBQzVDLDZDQUFxRDtBQUNyRCxrRUFBdUQ7QUFDdkQsbURBQXNGO0FBRXRGLE1BQU0sa0JBQW1CLFNBQVEsbUJBQUs7SUFDcEMsWUFBWSxLQUFVLEVBQUUsRUFBVSxFQUFFLEtBQWtCO1FBQ3BELEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRXhCLElBQUksS0FBSyxHQUFHLElBQUksbUJBQVEsQ0FBQyxJQUFJLEVBQUUscUJBQXFCLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFFMUQsSUFBSSxNQUFNLEdBQUcsSUFBSSxlQUFNLENBQUMsSUFBSSxFQUFFLGlCQUFpQixDQUFDLENBQUM7UUFFakQsTUFBTSxvQkFBb0IsR0FBRyxJQUFJLCtCQUFvQixDQUFDO1lBQ3BELElBQUksRUFBRSxhQUFhO1lBQ25CLFdBQVcsRUFBRSxvQkFBb0I7WUFDakMsV0FBVyxFQUFFLENBQUMseUJBQWMsQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLHlCQUFjLENBQUMsY0FBYyxDQUFDLENBQUM7WUFDbkYsd0JBQXdCLEVBQUUsS0FBSztZQUMvQix3QkFBd0IsRUFBRSxNQUFNO1NBQ2pDLENBQUMsQ0FBQztRQUVILElBQUksbUJBQVEsQ0FBQyxJQUFJLEVBQUUsZ0JBQWdCLEVBQUU7WUFDbkMsb0JBQW9CLEVBQUUsb0JBQW9CO1NBQzNDLENBQUMsQ0FBQztJQUNMLENBQUM7Q0FDRjtBQUVELE1BQU0sR0FBRyxHQUFHLElBQUksaUJBQUcsRUFBRSxDQUFDO0FBQ3RCLE1BQU0sS0FBSyxHQUFHLElBQUksa0JBQWtCLENBQUMsR0FBRyxFQUFFLHlCQUF5QixDQUFDLENBQUM7QUFDckUsSUFBSSw2QkFBUyxDQUFDLEdBQUcsRUFBRSxlQUFlLEVBQUUsRUFBRSxTQUFTLEVBQUUsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDNUQsR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQnVja2V0IH0gZnJvbSAnYXdzLWNkay1saWIvYXdzLXMzJztcbmltcG9ydCB7IEFwcCwgU3RhY2ssIFN0YWNrUHJvcHMgfSBmcm9tICdhd3MtY2RrLWxpYic7XG5pbXBvcnQgeyBJbnRlZ1Rlc3QgfSBmcm9tICdAYXdzLWNkay9pbnRlZy10ZXN0cy1hbHBoYSc7XG5pbXBvcnQgeyBMb2dHcm91cCwgRGF0YVByb3RlY3Rpb25Qb2xpY3ksIERhdGFJZGVudGlmaWVyIH0gZnJvbSAnYXdzLWNkay1saWIvYXdzLWxvZ3MnO1xuXG5jbGFzcyBMb2dHcm91cEludGVnU3RhY2sgZXh0ZW5kcyBTdGFjayB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBBcHAsIGlkOiBzdHJpbmcsIHByb3BzPzogU3RhY2tQcm9wcykge1xuICAgIHN1cGVyKHNjb3BlLCBpZCwgcHJvcHMpO1xuXG4gICAgdmFyIGF1ZGl0ID0gbmV3IExvZ0dyb3VwKHRoaXMsICdMb2dHcm91cExhbWJkYUF1ZGl0Jywge30pO1xuXG4gICAgdmFyIGJ1Y2tldCA9IG5ldyBCdWNrZXQodGhpcywgJ2F1ZGl0LWJ1Y2tldC1pZCcpO1xuXG4gICAgY29uc3QgZGF0YVByb3RlY3Rpb25Qb2xpY3kgPSBuZXcgRGF0YVByb3RlY3Rpb25Qb2xpY3koe1xuICAgICAgbmFtZTogJ3BvbGljeS1uYW1lJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAncG9saWN5IGRlc2NyaXB0aW9uJyxcbiAgICAgIGlkZW50aWZpZXJzOiBbRGF0YUlkZW50aWZpZXIuRFJJVkVSU0xJQ0VOU0VfVVMsIG5ldyBEYXRhSWRlbnRpZmllcignRW1haWxBZGRyZXNzJyldLFxuICAgICAgbG9nR3JvdXBBdWRpdERlc3RpbmF0aW9uOiBhdWRpdCxcbiAgICAgIHMzQnVja2V0QXVkaXREZXN0aW5hdGlvbjogYnVja2V0LFxuICAgIH0pO1xuXG4gICAgbmV3IExvZ0dyb3VwKHRoaXMsICdMb2dHcm91cExhbWJkYScsIHtcbiAgICAgIGRhdGFQcm90ZWN0aW9uUG9saWN5OiBkYXRhUHJvdGVjdGlvblBvbGljeSxcbiAgICB9KTtcbiAgfVxufVxuXG5jb25zdCBhcHAgPSBuZXcgQXBwKCk7XG5jb25zdCBzdGFjayA9IG5ldyBMb2dHcm91cEludGVnU3RhY2soYXBwLCAnYXdzLWNkay1sb2ctZ3JvdXAtaW50ZWcnKTtcbm5ldyBJbnRlZ1Rlc3QoYXBwLCAnTG9nR3JvdXBJbnRlZycsIHsgdGVzdENhc2VzOiBbc3RhY2tdIH0pO1xuYXBwLnN5bnRoKCk7Il19