"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ImportCache = void 0;
const crypto = require("crypto");
class ImportCache {
    constructor() {
        this.records = {};
    }
    record(record) {
        const key = {
            fileName: record.fileName,
            typeName: record.typeName,
        };
        this.records[hashed(key)] = record;
    }
    find(key) {
        return this.records[hashed(key)];
    }
    get imports() {
        return Object.values(this.records);
    }
}
exports.ImportCache = ImportCache;
function hashed(key) {
    const hash = crypto.createHash('md5');
    hash.update(JSON.stringify(key));
    return hash.digest('hex');
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW1wb3J0LWNhY2hlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiaW1wb3J0LWNhY2hlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLGlDQUFpQztBQWlCakMsTUFBYSxXQUFXO0lBQXhCO1FBQ1UsWUFBTyxHQUF5QyxFQUFFLENBQUM7SUFpQjdELENBQUM7SUFmUSxNQUFNLENBQUMsTUFBeUI7UUFDckMsTUFBTSxHQUFHLEdBQW1CO1lBQzFCLFFBQVEsRUFBRSxNQUFNLENBQUMsUUFBUTtZQUN6QixRQUFRLEVBQUUsTUFBTSxDQUFDLFFBQVE7U0FDMUIsQ0FBQztRQUNGLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDO0lBQ3JDLENBQUM7SUFFTSxJQUFJLENBQUMsR0FBbUI7UUFDN0IsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDaEIsT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNyQyxDQUFDO0NBQ0Y7QUFsQkQsa0NBa0JDO0FBRUQsU0FBUyxNQUFNLENBQUMsR0FBTztJQUNyQixNQUFNLElBQUksR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3RDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ2pDLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUM1QixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgY3J5cHRvIGZyb20gJ2NyeXB0byc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW1wb3J0Q2FjaGVLZXkge1xuICByZWFkb25seSBmaWxlTmFtZTogc3RyaW5nO1xuICByZWFkb25seSB0eXBlTmFtZTogc3RyaW5nO1xufVxuXG4vLyBgbm9kZWAgaXMgYSB0eXBlIGZyb20gQHR5cGVzY3JpcHQtZXNsaW50L3R5cGVzY3JpcHQtZXN0cmVlLCBidXQgdXNpbmcgJ2FueScgZm9yIG5vd1xuLy8gc2luY2UgaXQncyBpbmNvbXBhdGlibGUgd2l0aCBlc2xpbnQuUnVsZSBuYW1lc3BhY2UuIFdhaXRpbmcgZm9yIGJldHRlciBjb21wYXRpYmlsaXR5IGluXG4vLyBodHRwczovL2dpdGh1Yi5jb20vdHlwZXNjcmlwdC1lc2xpbnQvdHlwZXNjcmlwdC1lc2xpbnQvdHJlZS8xNzY1YTE3OGU0NTZiMTUyYmQ0ODE5MmViNWRiN2U4NTQxZTJhZGYyL3BhY2thZ2VzL2V4cGVyaW1lbnRhbC11dGlscyNub3RlXG5leHBvcnQgdHlwZSBOb2RlID0gYW55O1xuXG5leHBvcnQgaW50ZXJmYWNlIEltcG9ydENhY2hlUmVjb3JkIGV4dGVuZHMgSW1wb3J0Q2FjaGVLZXkge1xuICByZWFkb25seSBpbXBvcnROb2RlOiBOb2RlO1xuICByZWFkb25seSBsb2NhbE5hbWU6IHN0cmluZ1xufVxuXG5leHBvcnQgY2xhc3MgSW1wb3J0Q2FjaGUge1xuICBwcml2YXRlIHJlY29yZHM6IHsgW2tleTogc3RyaW5nXTogSW1wb3J0Q2FjaGVSZWNvcmQgfSA9IHt9O1xuXG4gIHB1YmxpYyByZWNvcmQocmVjb3JkOiBJbXBvcnRDYWNoZVJlY29yZCk6IHZvaWQge1xuICAgIGNvbnN0IGtleTogSW1wb3J0Q2FjaGVLZXkgPSB7XG4gICAgICBmaWxlTmFtZTogcmVjb3JkLmZpbGVOYW1lLFxuICAgICAgdHlwZU5hbWU6IHJlY29yZC50eXBlTmFtZSxcbiAgICB9O1xuICAgIHRoaXMucmVjb3Jkc1toYXNoZWQoa2V5KV0gPSByZWNvcmQ7XG4gIH1cbiAgXG4gIHB1YmxpYyBmaW5kKGtleTogSW1wb3J0Q2FjaGVLZXkpOiBJbXBvcnRDYWNoZVJlY29yZCB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMucmVjb3Jkc1toYXNoZWQoa2V5KV07XG4gIH1cblxuICBwdWJsaWMgZ2V0IGltcG9ydHMoKTogSW1wb3J0Q2FjaGVSZWNvcmRbXSB7XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXModGhpcy5yZWNvcmRzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYXNoZWQoa2V5OiB7fSk6IHN0cmluZyB7XG4gIGNvbnN0IGhhc2ggPSBjcnlwdG8uY3JlYXRlSGFzaCgnbWQ1Jyk7XG4gIGhhc2gudXBkYXRlKEpTT04uc3RyaW5naWZ5KGtleSkpO1xuICByZXR1cm4gaGFzaC5kaWdlc3QoJ2hleCcpO1xufSJdfQ==